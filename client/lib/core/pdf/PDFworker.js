(function(){/*
 *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
*****************************************************************************/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(m){var q=0;return function(){return q<m.length?{done:!1,value:m[q++]}:{done:!0}}};$jscomp.arrayIterator=function(m){return{next:$jscomp.arrayIteratorImpl(m)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(m,q,r){if(m==Array.prototype||m==Object.prototype)return m;m[q]=r.value;return m};$jscomp.getGlobal=function(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var q=0;q<m.length;++q){var r=m[q];if(r&&r.Math==Math)return r}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(m,q){var r=$jscomp.propertyToPolyfillSymbol[q];if(null==r)return m[q];r=m[r];return void 0!==r?r:m[q]};
$jscomp.polyfill=function(m,q,r,n){q&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(m,q,r,n):$jscomp.polyfillUnisolated(m,q,r,n))};$jscomp.polyfillUnisolated=function(m,q,r,n){r=$jscomp.global;m=m.split(".");for(n=0;n<m.length-1;n++){var u=m[n];if(!(u in r))return;r=r[u]}m=m[m.length-1];n=r[m];q=q(n);q!=n&&null!=q&&$jscomp.defineProperty(r,m,{configurable:!0,writable:!0,value:q})};
$jscomp.polyfillIsolated=function(m,q,r,n){var u=m.split(".");m=1===u.length;n=u[0];n=!m&&n in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var y=0;y<u.length-1;y++){var l=u[y];if(!(l in n))return;n=n[l]}u=u[u.length-1];r=$jscomp.IS_SYMBOL_NATIVE&&"es6"===r?n[u]:null;q=q(r);null!=q&&(m?$jscomp.defineProperty($jscomp.polyfills,u,{configurable:!0,writable:!0,value:q}):q!==r&&(void 0===$jscomp.propertyToPolyfillSymbol[u]&&(r=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[u]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(u):$jscomp.POLYFILL_PREFIX+r+"$"+u),$jscomp.defineProperty(n,$jscomp.propertyToPolyfillSymbol[u],{configurable:!0,writable:!0,value:q})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(m){if(m)return m;var q=function(y,l){this.$jscomp$symbol$id_=y;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:l})};q.prototype.toString=function(){return this.$jscomp$symbol$id_};var r="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",n=0,u=function(y){if(this instanceof u)throw new TypeError("Symbol is not a constructor");return new q(r+(y||"")+"_"+n++,y)};return u},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(m){if(m)return m;m=Symbol("Symbol.iterator");for(var q="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<q.length;r++){var n=$jscomp.global[q[r]];"function"===typeof n&&"function"!=typeof n.prototype[m]&&$jscomp.defineProperty(n.prototype,m,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return m},"es6",
"es3");$jscomp.iteratorPrototype=function(m){m={next:m};m[Symbol.iterator]=function(){return this};return m};$jscomp.underscoreProtoCanBeSet=function(){var m={a:!0},q={};try{return q.__proto__=m,q.a}catch(r){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(m,q){m.__proto__=q;if(m.__proto__!==q)throw new TypeError(m+" is not extensible");return m}:null;
$jscomp.makeIterator=function(m){var q="undefined"!=typeof Symbol&&Symbol.iterator&&m[Symbol.iterator];return q?q.call(m):$jscomp.arrayIterator(m)};$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(m){if(!(m instanceof Object))throw new TypeError("Iterator result "+m+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(m){this.yieldResult=m};$jscomp.generator.Context.prototype.throw_=function(m){this.abruptCompletion_={exception:m,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(m){this.abruptCompletion_={return:m};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(m){this.abruptCompletion_={jumpTo:m};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(m,q){this.nextAddress=q;return{value:m}};$jscomp.generator.Context.prototype.yieldAll=function(m,q){m=$jscomp.makeIterator(m);var r=m.next();$jscomp.generator.ensureIteratorResultIsObject_(r);if(r.done)this.yieldResult=r.value,this.nextAddress=q;else return this.yieldAllIterator_=m,this.yield(r.value,q)};
$jscomp.generator.Context.prototype.jumpTo=function(m){this.nextAddress=m};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(m,q){this.catchAddress_=m;void 0!=q&&(this.finallyAddress_=q)};$jscomp.generator.Context.prototype.setFinallyBlock=function(m){this.catchAddress_=0;this.finallyAddress_=m||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(m,q){this.nextAddress=m;this.catchAddress_=q||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(m){this.catchAddress_=m||0;m=this.abruptCompletion_.exception;this.abruptCompletion_=null;return m};$jscomp.generator.Context.prototype.enterFinallyBlock=function(m,q,r){r?this.finallyContexts_[r]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=m||0;this.finallyAddress_=q||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(m,q){q=this.finallyContexts_.splice(q||0)[0];if(q=this.abruptCompletion_=this.abruptCompletion_||q){if(q.isException)return this.jumpToErrorHandler_();void 0!=q.jumpTo&&this.finallyAddress_<q.jumpTo?(this.nextAddress=q.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=m};$jscomp.generator.Context.prototype.forIn=function(m){return new $jscomp.generator.Context.PropertyIterator(m)};
$jscomp.generator.Context.PropertyIterator=function(m){this.object_=m;this.properties_=[];for(var q in m)this.properties_.push(q);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var m=this.properties_.pop();if(m in this.object_)return m}return null};$jscomp.generator.Engine_=function(m){this.context_=new $jscomp.generator.Context;this.program_=m};
$jscomp.generator.Engine_.prototype.next_=function(m){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,m,this.context_.next_);this.context_.next_(m);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(m){this.context_.start_();var q=this.context_.yieldAllIterator_;if(q)return this.yieldAllStep_("return"in q?q["return"]:function(r){return{value:r,done:!0}},m,this.context_.return);this.context_.return(m);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(m){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],m,this.context_.next_);this.context_.throw_(m);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(m,q,r){try{var n=m.call(this.context_.yieldAllIterator_,q);$jscomp.generator.ensureIteratorResultIsObject_(n);if(!n.done)return this.context_.stop_(),n;var u=n.value}catch(y){return this.context_.yieldAllIterator_=null,this.context_.throw_(y),this.nextStep_()}this.context_.yieldAllIterator_=null;r.call(this.context_,u);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var m=this.program_(this.context_);if(m)return this.context_.stop_(),{value:m.value,done:!1}}catch(q){this.context_.yieldResult=void 0,this.context_.throw_(q)}this.context_.stop_();if(this.context_.abruptCompletion_){m=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(m.isException)throw m.exception;return{value:m.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(m){this.next=function(q){return m.next_(q)};this.throw=function(q){return m.throw_(q)};this.return=function(q){return m.return_(q)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(m,q){q=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(q));$jscomp.setPrototypeOf&&m.prototype&&$jscomp.setPrototypeOf(q,m.prototype);return q};
$jscomp.asyncExecutePromiseGenerator=function(m){function q(n){return m.next(n)}function r(n){return m.throw(n)}return new Promise(function(n,u){function y(l){l.done?n(l.value):Promise.resolve(l.value).then(q,r).then(y,u)}y(m.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(m){return $jscomp.asyncExecutePromiseGenerator(m())};$jscomp.asyncExecutePromiseGeneratorProgram=function(m){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(m)))};
$jscomp.polyfill("Promise",function(m){function q(){this.batch_=null}function r(l){return l instanceof u?l:new u(function(d,e){d(l)})}if(m&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return m;q.prototype.asyncExecute=function(l){if(null==this.batch_){this.batch_=[];var d=this;this.asyncExecuteFunction(function(){d.executeBatch_()})}this.batch_.push(l)};
var n=$jscomp.global.setTimeout;q.prototype.asyncExecuteFunction=function(l){n(l,0)};q.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var l=this.batch_;this.batch_=[];for(var d=0;d<l.length;++d){var e=l[d];l[d]=null;try{e()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};q.prototype.asyncThrow_=function(l){this.asyncExecuteFunction(function(){throw l;})};var u=function(l){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var d=this.createResolveAndReject_();
try{l(d.resolve,d.reject)}catch(e){d.reject(e)}};u.prototype.createResolveAndReject_=function(){function l(f){return function(k){e||(e=!0,f.call(d,k))}}var d=this,e=!1;return{resolve:l(this.resolveTo_),reject:l(this.reject_)}};u.prototype.resolveTo_=function(l){if(l===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(l instanceof u)this.settleSameAsPromise_(l);else{a:switch(typeof l){case "object":var d=null!=l;break a;case "function":d=!0;break a;default:d=!1}d?this.resolveToNonPromiseObj_(l):
this.fulfill_(l)}};u.prototype.resolveToNonPromiseObj_=function(l){var d=void 0;try{d=l.then}catch(e){this.reject_(e);return}"function"==typeof d?this.settleSameAsThenable_(d,l):this.fulfill_(l)};u.prototype.reject_=function(l){this.settle_(2,l)};u.prototype.fulfill_=function(l){this.settle_(1,l)};u.prototype.settle_=function(l,d){if(0!=this.state_)throw Error("Cannot settle("+l+", "+d+"): Promise already settled in state"+this.state_);this.state_=l;this.result_=d;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};u.prototype.scheduleUnhandledRejectionCheck_=function(){var l=this;n(function(){if(l.notifyUnhandledRejection_()){var d=$jscomp.global.console;"undefined"!==typeof d&&d.error(l.result_)}},1)};u.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var l=$jscomp.global.CustomEvent,d=$jscomp.global.Event,e=$jscomp.global.dispatchEvent;if("undefined"===typeof e)return!0;"function"===typeof l?l=new l("unhandledrejection",{cancelable:!0}):
"function"===typeof d?l=new d("unhandledrejection",{cancelable:!0}):(l=$jscomp.global.document.createEvent("CustomEvent"),l.initCustomEvent("unhandledrejection",!1,!0,l));l.promise=this;l.reason=this.result_;return e(l)};u.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var l=0;l<this.onSettledCallbacks_.length;++l)y.asyncExecute(this.onSettledCallbacks_[l]);this.onSettledCallbacks_=null}};var y=new q;u.prototype.settleSameAsPromise_=function(l){var d=this.createResolveAndReject_();
l.callWhenSettled_(d.resolve,d.reject)};u.prototype.settleSameAsThenable_=function(l,d){var e=this.createResolveAndReject_();try{l.call(d,e.resolve,e.reject)}catch(f){e.reject(f)}};u.prototype.then=function(l,d){function e(p,A){return"function"==typeof p?function(w){try{f(p(w))}catch(v){k(v)}}:A}var f,k,t=new u(function(p,A){f=p;k=A});this.callWhenSettled_(e(l,f),e(d,k));return t};u.prototype.catch=function(l){return this.then(void 0,l)};u.prototype.callWhenSettled_=function(l,d){function e(){switch(f.state_){case 1:l(f.result_);
break;case 2:d(f.result_);break;default:throw Error("Unexpected state: "+f.state_);}}var f=this;null==this.onSettledCallbacks_?y.asyncExecute(e):this.onSettledCallbacks_.push(e);this.isRejectionHandled_=!0};u.resolve=r;u.reject=function(l){return new u(function(d,e){e(l)})};u.race=function(l){return new u(function(d,e){for(var f=$jscomp.makeIterator(l),k=f.next();!k.done;k=f.next())r(k.value).callWhenSettled_(d,e)})};u.all=function(l){var d=$jscomp.makeIterator(l),e=d.next();return e.done?r([]):new u(function(f,
k){function t(w){return function(v){p[w]=v;A--;0==A&&f(p)}}var p=[],A=0;do p.push(void 0),A++,r(e.value).callWhenSettled_(t(p.length-1),k),e=d.next();while(!e.done)})};return u},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var m={},q=Object.create(new $jscomp.global.Proxy(m,{get:function(r,n,u){return r==m&&"q"==n&&u==q}}));return!0===q.q}catch(r){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.owns=function(m,q){return Object.prototype.hasOwnProperty.call(m,q)};
$jscomp.polyfill("WeakMap",function(m){function q(){if(!m||!Object.seal)return!1;try{var f=Object.seal({}),k=Object.seal({}),t=new m([[f,2],[k,3]]);if(2!=t.get(f)||3!=t.get(k))return!1;t.delete(f);t.set(k,4);return!t.has(f)&&4==t.get(k)}catch(p){return!1}}function r(){}function n(f){var k=typeof f;return"object"===k&&null!==f||"function"===k}function u(f){if(!$jscomp.owns(f,l)){var k=new r;$jscomp.defineProperty(f,l,{value:k})}}function y(f){if(!$jscomp.ISOLATE_POLYFILLS){var k=Object[f];k&&(Object[f]=
function(t){if(t instanceof r)return t;Object.isExtensible(t)&&u(t);return k(t)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(m&&$jscomp.ES6_CONFORMANCE)return m}else if(q())return m;var l="$jscomp_hidden_"+Math.random();y("freeze");y("preventExtensions");y("seal");var d=0,e=function(f){this.id_=(d+=Math.random()+1).toString();if(f){f=$jscomp.makeIterator(f);for(var k;!(k=f.next()).done;)k=k.value,this.set(k[0],k[1])}};e.prototype.set=function(f,k){if(!n(f))throw Error("Invalid WeakMap key");
u(f);if(!$jscomp.owns(f,l))throw Error("WeakMap key fail: "+f);f[l][this.id_]=k;return this};e.prototype.get=function(f){return n(f)&&$jscomp.owns(f,l)?f[l][this.id_]:void 0};e.prototype.has=function(f){return n(f)&&$jscomp.owns(f,l)&&$jscomp.owns(f[l],this.id_)};e.prototype.delete=function(f){return n(f)&&$jscomp.owns(f,l)&&$jscomp.owns(f[l],this.id_)?delete f[l][this.id_]:!1};return e},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(m){function q(){if($jscomp.ASSUME_NO_NATIVE_MAP||!m||"function"!=typeof m||!m.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),f=new m($jscomp.makeIterator([[e,"s"]]));if("s"!=f.get(e)||1!=f.size||f.get({x:4})||f.set({x:4},"t")!=f||2!=f.size)return!1;var k=f.entries(),t=k.next();if(t.done||t.value[0]!=e||"s"!=t.value[1])return!1;t=k.next();return t.done||4!=t.value[0].x||"t"!=t.value[1]||!k.next().done?!1:!0}catch(p){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(m&&$jscomp.ES6_CONFORMANCE)return m}else if(q())return m;var r=new WeakMap,n=function(e){this.data_={};this.head_=l();this.size=0;if(e){e=$jscomp.makeIterator(e);for(var f;!(f=e.next()).done;)f=f.value,this.set(f[0],f[1])}};n.prototype.set=function(e,f){e=0===e?0:e;var k=u(this,e);k.list||(k.list=this.data_[k.id]=[]);k.entry?k.entry.value=f:(k.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:f},k.list.push(k.entry),
this.head_.previous.next=k.entry,this.head_.previous=k.entry,this.size++);return this};n.prototype.delete=function(e){e=u(this,e);return e.entry&&e.list?(e.list.splice(e.index,1),e.list.length||delete this.data_[e.id],e.entry.previous.next=e.entry.next,e.entry.next.previous=e.entry.previous,e.entry.head=null,this.size--,!0):!1};n.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=l();this.size=0};n.prototype.has=function(e){return!!u(this,e).entry};n.prototype.get=function(e){return(e=
u(this,e).entry)&&e.value};n.prototype.entries=function(){return y(this,function(e){return[e.key,e.value]})};n.prototype.keys=function(){return y(this,function(e){return e.key})};n.prototype.values=function(){return y(this,function(e){return e.value})};n.prototype.forEach=function(e,f){for(var k=this.entries(),t;!(t=k.next()).done;)t=t.value,e.call(f,t[1],t[0],this)};n.prototype[Symbol.iterator]=n.prototype.entries;var u=function(e,f){var k=f&&typeof f;"object"==k||"function"==k?r.has(f)?k=r.get(f):
(k=""+ ++d,r.set(f,k)):k="p_"+f;var t=e.data_[k];if(t&&$jscomp.owns(e.data_,k))for(e=0;e<t.length;e++){var p=t[e];if(f!==f&&p.key!==p.key||f===p.key)return{id:k,list:t,index:e,entry:p}}return{id:k,list:t,index:-1,entry:void 0}},y=function(e,f){var k=e.head_;return $jscomp.iteratorPrototype(function(){if(k){for(;k.head!=e.head_;)k=k.previous;for(;k.next!=k.head;)return k=k.next,{done:!1,value:f(k)};k=null}return{done:!0,value:void 0}})},l=function(){var e={};return e.previous=e.next=e.head=e},d=0;
return n},"es6","es3");$jscomp.checkStringArgs=function(m,q,r){if(null==m)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(q instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return m+""};
$jscomp.polyfill("String.prototype.endsWith",function(m){return m?m:function(q,r){var n=$jscomp.checkStringArgs(this,q,"endsWith");q+="";void 0===r&&(r=n.length);r=Math.max(0,Math.min(r|0,n.length));for(var u=q.length;0<u&&0<r;)if(n[--r]!=q[--u])return!1;return 0>=u}},"es6","es3");$jscomp.findInternal=function(m,q,r){m instanceof String&&(m=String(m));for(var n=m.length,u=0;u<n;u++){var y=m[u];if(q.call(r,y,u,m))return{i:u,v:y}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(m){return m?m:function(q,r){return $jscomp.findInternal(this,q,r).v}},"es6","es3");$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(m,q){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var u in n)$jscomp.owns(n,u)&&(m[u]=n[u])}return m};
$jscomp.polyfill("Set",function(m){function q(){if($jscomp.ASSUME_NO_NATIVE_SET||!m||"function"!=typeof m||!m.prototype.entries||"function"!=typeof Object.seal)return!1;try{var n=Object.seal({x:4}),u=new m($jscomp.makeIterator([n]));if(!u.has(n)||1!=u.size||u.add(n)!=u||1!=u.size||u.add({x:4})!=u||2!=u.size)return!1;var y=u.entries(),l=y.next();if(l.done||l.value[0]!=n||l.value[1]!=n)return!1;l=y.next();return l.done||l.value[0]==n||4!=l.value[0].x||l.value[1]!=l.value[0]?!1:y.next().done}catch(d){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(m&&$jscomp.ES6_CONFORMANCE)return m}else if(q())return m;var r=function(n){this.map_=new Map;if(n){n=$jscomp.makeIterator(n);for(var u;!(u=n.next()).done;)this.add(u.value)}this.size=this.map_.size};r.prototype.add=function(n){n=0===n?0:n;this.map_.set(n,n);this.size=this.map_.size;return this};r.prototype.delete=function(n){n=this.map_.delete(n);this.size=this.map_.size;return n};r.prototype.clear=function(){this.map_.clear();this.size=0};r.prototype.has=
function(n){return this.map_.has(n)};r.prototype.entries=function(){return this.map_.entries()};r.prototype.values=function(){return this.map_.values()};r.prototype.keys=r.prototype.values;r.prototype[Symbol.iterator]=r.prototype.values;r.prototype.forEach=function(n,u){var y=this;this.map_.forEach(function(l){return n.call(u,l,l,y)})};return r},"es6","es3");
$jscomp.iteratorFromArray=function(m,q){m instanceof String&&(m+="");var r=0,n=!1,u={next:function(){if(!n&&r<m.length){var y=r++;return{value:q(y,m[y]),done:!1}}n=!0;return{done:!0,value:void 0}}};u[Symbol.iterator]=function(){return u};return u};$jscomp.polyfill("Array.prototype.keys",function(m){return m?m:function(){return $jscomp.iteratorFromArray(this,function(q){return q})}},"es6","es3");
(function(m){function q(n){if(r[n])return r[n].exports;var u=r[n]={i:n,l:!1,exports:{}};m[n].call(u.exports,u,u.exports,q);u.l=!0;return u.exports}var r={};q.m=m;q.c=r;q.d=function(n,u,y){q.o(n,u)||Object.defineProperty(n,u,{enumerable:!0,get:y})};q.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})};q.t=function(n,u){u&1&&(n=q(n));if(u&8||u&4&&"object"===typeof n&&n&&n.__esModule)return n;
var y=Object.create(null);q.r(y);Object.defineProperty(y,"default",{enumerable:!0,value:n});if(u&2&&"string"!=typeof n)for(var l in n)q.d(y,l,function(d){return n[d]}.bind(null,l));return y};q.n=function(n){var u=n&&n.__esModule?function(){return n["default"]}:function(){return n};q.d(u,"a",u);return u};q.o=function(n,u){return Object.prototype.hasOwnProperty.call(n,u)};q.p="/core/pdf/";return q(q.s=22)})([function(m,q,r){r.d(q,"d",function(){return l});r.d(q,"e",function(){return u});r.d(q,"c",function(){return d});
r.d(q,"a",function(){return e});r.d(q,"b",function(){return y});var n=r(3),u=function(f,k){Object(n.a)("disableLogs")||(k?console.warn(f+": "+k):console.warn(f))},y=function(f,k,t,p){void 0===p&&(p=!1);var A=t.pop();t=t.length?t.join(", ")+" and "+A:A;p?u("'"+k+"' will be deprecated in version "+f+". Please use "+t+" instead."):u("'"+k+"' is deprecated since version "+f+". Please use "+t+" instead.")},l=function(f,k){Object(n.a)("disableLogs")||(k?console.log(f+": "+k):console.log(f))},d=function(f){if(!Object(n.a)("disableLogs"))throw console.error(f),
Error(f);},e=function(f,k){}},function(m,q,r){r.d(q,"c",function(){return e});r.d(q,"a",function(){return f});r.d(q,"b",function(){return k});r.d(q,"d",function(){return t});var n=r(16),u=console.log,y=console.warn,l=console.error,d=function(p){void 0===p&&(p=!0);p?(console.log=function(){},console.warn=function(){},console.error=function(){}):(console.log=u,console.warn=y,console.error=l)},e=function(){var p=Object(n.a)(location.search);d("1"===p.disableLogs)},f=function(p){p.on("disableLogs",function(A){d(A.disabled)})},
k=function(p,A){return function(){}},t=function(p,A){A?console.warn(p+": "+A):console.warn(p)}},function(m,q,r){r.d(q,"e",function(){return l});r.d(q,"b",function(){return d});r.d(q,"f",function(){return k});r.d(q,"c",function(){return t});r.d(q,"d",function(){return u});r.d(q,"a",function(){return y});r.d(q,"g",function(){return p});r.d(q,"h",function(){return D});r(0);var n="undefined"===typeof window?self:window;m=function(){var F=navigator.userAgent.toLowerCase();return(F=/(msie) ([\w.]+)/.exec(F)||
/(trident)(?:.*? rv:([\w.]+)|)/.exec(F))?parseInt(F[2],10):F}();var u=function(){var F=n.navigator.userAgent.match(/OPR/),C=n.navigator.userAgent.match(/Maxthon/),E=n.navigator.userAgent.match(/Edge/);return n.navigator.userAgent.match(/Chrome\/(.*?) /)&&!F&&!C&&!E}(),y=function(){if(!u)return null;var F=n.navigator.userAgent.match(/Chrome\/([0-9]+)\./);return F?parseInt(F[1],10):F}(),l=!!navigator.userAgent.match(/Edge/i)||navigator.userAgent.match(/Edg\/(.*?)/)&&n.navigator.userAgent.match(/Chrome\/(.*?) /),
d=function(){if(!l)return null;var F=n.navigator.userAgent.match(/Edg\/([0-9]+)\./);return F?parseInt(F[1],10):F}();q=/iPad|iPhone|iPod/.test(n.navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints||/iPad|iPhone|iPod/.test(n.navigator.userAgent);var e=function(){var F=n.navigator.userAgent.match(/.*\/([0-9\.]+)\s(Safari|Mobile).*/i);return F?parseFloat(F[1]):F}(),f=/^((?!chrome|android).)*safari/i.test(n.navigator.userAgent)||/^((?!chrome|android).)*$/.test(n.navigator.userAgent)&&
q,k=n.navigator.userAgent.match(/Firefox/),t=function(){if(!k)return null;var F=n.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return F?parseInt(F[1],10):F}(),p=!(m||!/Android|webOS|Touch|IEMobile|Silk/i.test(navigator.userAgent)&&!q);navigator.userAgent.match(/(iPad|iPhone|iPod)/i);n.navigator.userAgent.indexOf("Android");var A=/Mac OS X 10_13_6.*\(KHTML, like Gecko\)$/.test(n.navigator.userAgent),w=n.navigator.userAgent.match(/(iPad|iPhone).+\sOS\s((\d+)(_\d)*)/i)?14<=parseInt(n.navigator.userAgent.match(/(iPad|iPhone).+\sOS\s((\d+)(_\d)*)/i)[3],
10):!1,v=!(!self.WebAssembly||!self.WebAssembly.validate),B=-1<n.navigator.userAgent.indexOf("Edge/16")||-1<n.navigator.userAgent.indexOf("MSAppHost"),D=function(){return v&&!B&&!(!w&&(f&&14>e||A))}},function(m,q,r){r.d(q,"a",function(){return y});r.d(q,"b",function(){return l});var n={},u={flattenedResources:!1,CANVAS_CACHE_SIZE:void 0,maxPagesBefore:void 0,maxPagesAhead:void 0,disableLogs:!1,wvsQueryParameters:{},_trnDebugMode:!1,_logFiltersEnabled:null},y=function(d){return u[d]},l=function(d,
e){var f;u[d]=e;null===(f=n[d])||void 0===f?void 0:f.forEach(function(k){k(e)})}},function(m,q,r){r.d(q,"a",function(){return B});r.d(q,"b",function(){return b});r.d(q,"c",function(){return a});var n=r(13),u=r(0),y=r(9),l=r(5),d="undefined"===typeof window?self:window,e=d.importScripts,f=!1,k=function(c,h){f||(e(d.basePath+"decode.min.js"),f=!0);c=self.BrotliDecode(Object(l.b)(c));return h?c:Object(l.a)(c)},t=function(c,h){return Object(n.a)(void 0,void 0,Promise,function(){var g;return Object(n.b)(this,
function(x){switch(x.label){case 0:return f?[3,2]:[4,Object(y.a)(self.Core.getWorkerPath()+"external/decode.min.js","Failed to download decode.min.js",window)];case 1:x.sent(),f=!0,x.label=2;case 2:return g=self.BrotliDecode(Object(l.b)(c)),[2,h?g:Object(l.a)(g)]}})})};(function(){function c(){this.remainingDataArrays=[]}c.prototype.processRaw=function(h){return h};c.prototype.processBrotli=function(h){this.remainingDataArrays.push(h);return null};c.prototype.GetNextChunk=function(h){this.decodeFunction||
(this.decodeFunction=0===h[0]&&97===h[1]&&115===h[2]&&109===h[3]?this.processRaw:this.processBrotli);return this.decodeFunction(h)};c.prototype.End=function(){if(this.remainingDataArrays.length){for(var h=this.arrays,g=0,x=0;x<h.length;++x)g+=h[x].length;g=new Uint8Array(g);var H=0;for(x=0;x<h.length;++x){var z=h[x];g.set(z,H);H+=z.length}return k(g,!0)}return null};return c})();var p=!1,A=function(c){p||(e(d.basePath+"pako_inflate.min.js"),p=!0);var h=10;if("string"===typeof c){if(c.charCodeAt(3)&
8){for(;0!==c.charCodeAt(h);++h);++h}}else if(c[3]&8){for(;0!==c[h];++h);++h}c=Object(l.b)(c);c=c.subarray(h,c.length-8);return d.pako.inflate(c,{windowBits:-15})},w=function(c,h){return h?c:Object(l.a)(c)},v=function(c){var h=!c.shouldOutputArray,g=new XMLHttpRequest;g.open("GET",c.url,c.isAsync);var x=h&&g.overrideMimeType;g.responseType=x?"text":"arraybuffer";x&&g.overrideMimeType("text/plain; charset=x-user-defined");g.send();var H=function(){var I=Date.now();var J=x?g.responseText:new Uint8Array(g.response);
Object(u.a)("worker","Result length is "+J.length);J.length<c.compressedMaximum?(J=c.decompressFunction(J,c.shouldOutputArray),Object(u.e)("There may be some degradation of performance. Your server has not been configured to serve .gz. and .br. files with the expected Content-Encoding. See http://www.pdftron.com/kb_content_encoding for instructions on how to resolve this."),e&&Object(u.a)("worker","Decompressed length is "+J.length)):h&&(J=Object(l.a)(J));e&&Object(u.a)("worker",c.url+" Decompression took "+
(Date.now()-I));return J};if(c.isAsync)var z=new Promise(function(I,J){g.onload=function(){200===this.status||0===this.status?I(H()):J("Download Failed "+c.url)};g.onerror=function(){J("Network error occurred "+c.url)}});else{if(200===g.status||0===g.status)return H();throw Error("Failed to load "+c.url);}return z},B=function(c){var h=c.lastIndexOf("/");-1===h&&(h=0);var g=c.slice(h).replace(".",".br.");e||(g.endsWith(".js.mem")?g=g.replace(".js.mem",".mem"):g.endsWith(".js")&&(g=g.concat(".mem")));
return c.slice(0,h)+g},D=function(c,h){var g=c.lastIndexOf("/");-1===g&&(g=0);var x=c.slice(g).replace(".",".gz.");h.url=c.slice(0,g)+x;h.decompressFunction=A;return v(h)},F=function(c,h){h.url=B(c);h.decompressFunction=e?k:t;return v(h)},C=function(c,h){c.endsWith(".js.mem")?c=c.slice(0,-4):c.endsWith(".mem")&&(c=c.slice(0,-4)+".js.mem");h.url=c;h.decompressFunction=w;return v(h)},E=function(c,h,g,x){return c.catch(function(H){Object(u.e)(H);return x(h,g)})},G=function(c,h,g){var x;if(g.isAsync){var H=
h[0](c,g);for(x=1;x<h.length;++x)H=E(H,c,g,h[x]);return H}for(x=0;x<h.length;++x)try{return h[x](c,g)}catch(z){Object(u.e)(z.message)}throw Error("");},a=function(c,h,g,x){return G(c,[D,F,C],{compressedMaximum:h,isAsync:g,shouldOutputArray:x})},b=function(c,h,g,x){return G(c,[F,D,C],{compressedMaximum:h,isAsync:g,shouldOutputArray:x})}},function(m,q,r){r.d(q,"b",function(){return n});r.d(q,"a",function(){return u});var n=function(y){if("string"===typeof y){for(var l=new Uint8Array(y.length),d=y.length,
e=0;e<d;e++)l[e]=y.charCodeAt(e);return l}return y},u=function(y){if("string"!==typeof y){for(var l="",d=0,e=y.length,f;d<e;)f=y.subarray(d,d+1024),d+=1024,l+=String.fromCharCode.apply(null,f);return l}return y}},function(m,q,r){r.d(q,"a",function(){return n});r.d(q,"d",function(){return u});r.d(q,"b",function(){return y});r.d(q,"c",function(){return l});var n="asm",u="ems",y="jsworker",l="wasm-threads"},function(m,q,r){function n(d){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==
typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(d)}var u,y,l;!function(d){"object"===n(q)&&"undefined"!==typeof m?m.exports=d():!(y=[],u=d,l="function"===typeof u?u.apply(q,y):u,void 0!==l&&(m.exports=l))}(function(){return function t(e,f,k){function p(v,B){if(!f[v]){if(!e[v]){if(A)return A(v,!0);B=Error("Cannot find module '".concat(v,"'"));throw B.code="MODULE_NOT_FOUND",B;}B=f[v]=
{exports:{}};e[v][0].call(B.exports,function(D){return p(e[v][1][D]||D)},B,B.exports,t,e,f,k)}return f[v].exports}for(var A=!1,w=0;w<k.length;w++)p(k[w]);return p}({1:[function(e,f,k){var t={}.hasOwnProperty,p=function(A,w){function v(){this.constructor=A}for(var B in w)t.call(w,B)&&(A[B]=w[B]);v.prototype=w.prototype;A.prototype=new v;A.__super__=w.prototype;return A};k=e("./PriorityQueue/AbstractPriorityQueue");e=e("./PriorityQueue/ArrayStrategy");k=function(A){function w(v){v||(v={});v.strategy||
(v.strategy=BinaryHeapStrategy);v.comparator||(v.comparator=function(B,D){return(B||0)-(D||0)});w.__super__.constructor.call(this,v)}p(w,A);return w}(k);k.ArrayStrategy=e;f.exports=k},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3}],2:[function(e,f,k){f.exports=function(){function t(p){if(null==(null!=p?p.strategy:void 0))throw"Must pass options.strategy, a strategy";if(null==(null!=p?p.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new p.strategy(p);
this.length=0}t.prototype.queue=function(p){this.length++;this.priv.queue(p)};t.prototype.dequeue=function(p){if(!this.length)throw"Empty queue";this.length--;return this.priv.dequeue()};t.prototype.peek=function(p){if(!this.length)throw"Empty queue";return this.priv.peek()};t.prototype.remove=function(p){this.priv.remove(p)&&--this.length};t.prototype.find=function(p){return 0<=this.priv.find(p)};t.prototype.removeAllMatching=function(p,A){p=this.priv.removeAllMatching(p,A);this.length-=p};return t}()},
{}],3:[function(e,f,k){var t=function(p,A,w){var v;var B=0;for(v=p.length;B<v;){var D=B+v>>>1;0<=w(p[D],A)?B=D+1:v=D}return B};f.exports=function(){function p(A){var w;this.options=A;this.comparator=this.options.comparator;this.data=(null!=(w=this.options.initialValues)?w.slice(0):void 0)||[];this.data.sort(this.comparator).reverse()}p.prototype.queue=function(A){var w=t(this.data,A,this.comparator);this.data.splice(w,0,A)};p.prototype.dequeue=function(){return this.data.pop()};p.prototype.peek=function(){return this.data[this.data.length-
1]};p.prototype.find=function(A){var w=t(this.data,A,this.comparator)-1;return 0<=w&&!this.comparator(this.data[w],A)?w:-1};p.prototype.remove=function(A){A=this.find(A);return 0<=A?(this.data.splice(A,1),!0):!1};p.prototype.removeAllMatching=function(A,w){for(var v=0,B=this.data.length-1;0<=B;--B)if(A(this.data[B])){var D=this.data.splice(B,1)[0];w&&w(D);++v}return v};return p}()},{}]},{},[1])(1)})},function(m,q,r){(function(n){function u(d,e){this._id=d;this._clearFn=e}var y="undefined"!==typeof n&&
n||"undefined"!==typeof self&&self||window,l=Function.prototype.apply;q.setTimeout=function(){return new u(l.call(setTimeout,y,arguments),clearTimeout)};q.setInterval=function(){return new u(l.call(setInterval,y,arguments),clearInterval)};q.clearTimeout=q.clearInterval=function(d){d&&d.close()};u.prototype.unref=u.prototype.ref=function(){};u.prototype.close=function(){this._clearFn.call(y,this._id)};q.enroll=function(d,e){clearTimeout(d._idleTimeoutId);d._idleTimeout=e};q.unenroll=function(d){clearTimeout(d._idleTimeoutId);
d._idleTimeout=-1};q._unrefActive=q.active=function(d){clearTimeout(d._idleTimeoutId);var e=d._idleTimeout;0<=e&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},e))};r(26);q.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof n&&n.setImmediate||this&&this.setImmediate;q.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof n&&n.clearImmediate||this&&this.clearImmediate}).call(this,r(12))},function(m,q,r){function n(y,
l,d){return new Promise(function(e){if(!y)return e();var f=d.document.createElement("script");f.type="text/javascript";f.onload=function(){e()};f.onerror=function(){l&&Object(u.e)(l);e()};f.src=y;d.document.getElementsByTagName("head")[0].appendChild(f)})}r.d(q,"a",function(){return n});var u=r(0)},function(m,q,r){function n(d,e,f){function k(A){p=p||Date.now();return A?(Object(u.a)("load","Try instantiateStreaming"),fetch(Object(y.a)(d)).then(function(w){return WebAssembly.instantiateStreaming(w,
e)}).catch(function(w){Object(u.a)("load","instantiateStreaming Failed "+d+" message "+w.message);return k(!1)})):Object(y.b)(d,f,!0,!0).then(function(w){t=Date.now();Object(u.a)("load","Request took "+(t-p)+" ms");return WebAssembly.instantiate(w,e)})}var t,p;return k(!!WebAssembly.instantiateStreaming).then(function(A){Object(u.a)("load","WASM compilation took "+(Date.now()-(t||p))+" ms");return A})}r.d(q,"a",function(){return n});var u=r(0),y=r(4),l=r(9);r.d(q,"b",function(){return l.a})},function(m,
q,r){r.d(q,"a",function(){return n});r.d(q,"b",function(){return u});r.d(q,"c",function(){return y});var n=function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(l){return l.return(WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])))})},u=function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(l){return l.return(WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,
1,0,10,8,1,6,0,6,64,25,11,11])))})},y=function(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(l){return l.return(WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))})}},function(m,q){q=function(){return this}();try{q=q||(new Function("return this"))()}catch(r){"object"===typeof window&&(q=window)}m.exports=q},function(m,q,r){function n(y,l,d,e){function f(k){return k instanceof d?k:new d(function(t){t(k)})}return new (d||
(d=Promise))(function(k,t){function p(v){try{w(e.next(v))}catch(B){t(B)}}function A(v){try{w(e["throw"](v))}catch(B){t(B)}}function w(v){v.done?k(v.value):f(v.value).then(p,A)}w((e=e.apply(y,l||[])).next())})}function u(y,l){function d(w){return function(v){return e([w,v])}}function e(w){if(k)throw new TypeError("Generator is already executing.");for(;f;)try{if(k=1,t&&(p=w[0]&2?t["return"]:w[0]?t["throw"]||((p=t["return"])&&p.call(t),0):t.next)&&!(p=p.call(t,w[1])).done)return p;if(t=0,p)w=[w[0]&
2,p.value];switch(w[0]){case 0:case 1:p=w;break;case 4:return f.label++,{value:w[1],done:!1};case 5:f.label++;t=w[1];w=[0];continue;case 7:w=f.ops.pop();f.trys.pop();continue;default:if(!(p=f.trys,p=0<p.length&&p[p.length-1])&&(6===w[0]||2===w[0])){f=0;continue}if(3===w[0]&&(!p||w[1]>p[0]&&w[1]<p[3]))f.label=w[1];else if(6===w[0]&&f.label<p[1])f.label=p[1],p=w;else if(p&&f.label<p[2])f.label=p[2],f.ops.push(w);else{p[2]&&f.ops.pop();f.trys.pop();continue}}w=l.call(y,f)}catch(v){w=[6,v],t=0}finally{k=
p=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}var f={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},k,t,p,A;return A={next:d(0),"throw":d(1),"return":d(2)},"function"===typeof Symbol&&(A[Symbol.iterator]=function(){return this}),A}r.d(q,"a",function(){return n});r.d(q,"b",function(){return u})},function(m,q){function r(){throw Error("setTimeout has not been defined");}function n(){throw Error("clearTimeout has not been defined");}function u(B){if(k===setTimeout)return setTimeout(B,
0);if((k===r||!k)&&setTimeout)return k=setTimeout,setTimeout(B,0);try{return k(B,0)}catch(D){try{return k.call(null,B,0)}catch(F){return k.call(this,B,0)}}}function y(B){if(t===clearTimeout)return clearTimeout(B);if((t===n||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(B);try{return t(B)}catch(D){try{return t.call(null,B)}catch(F){return t.call(this,B)}}}function l(){A&&w&&(A=!1,w.length?p=w.concat(p):v=-1,p.length&&d())}function d(){if(!A){var B=u(l);A=!0;for(var D=p.length;D;){w=p;for(p=
[];++v<D;)w&&w[v].run();v=-1;D=p.length}w=null;A=!1;y(B)}}function e(B,D){this.fun=B;this.array=D}function f(){}m=m.exports={};try{var k="function"===typeof setTimeout?setTimeout:r}catch(B){k=r}try{var t="function"===typeof clearTimeout?clearTimeout:n}catch(B){t=n}var p=[],A=!1,w,v=-1;m.nextTick=function(B){var D=Array(arguments.length-1);if(1<arguments.length)for(var F=1;F<arguments.length;F++)D[F-1]=arguments[F];p.push(new e(B,D));1!==p.length||A||u(d)};e.prototype.run=function(){this.fun.apply(null,
this.array)};m.title="browser";m.browser=!0;m.env={};m.argv=[];m.version="";m.versions={};m.on=f;m.addListener=f;m.once=f;m.off=f;m.removeListener=f;m.removeAllListeners=f;m.emit=f;m.prependListener=f;m.prependOnceListener=f;m.listeners=function(B){return[]};m.binding=function(B){throw Error("process.binding is not supported");};m.cwd=function(){return"/"};m.chdir=function(B){throw Error("process.chdir is not supported");};m.umask=function(){return 0}},function(m,q,r){q.a=function(){ArrayBuffer.prototype.slice||
(ArrayBuffer.prototype.slice=function(n,u){void 0===n&&(n=0);void 0===u&&(u=this.byteLength);n=Math.floor(n);u=Math.floor(u);0>n&&(n+=this.byteLength);0>u&&(u+=this.byteLength);n=Math.min(Math.max(0,n),this.byteLength);u=Math.min(Math.max(0,u),this.byteLength);if(0>=u-n)return new ArrayBuffer(0);var y=new ArrayBuffer(u-n),l=new Uint8Array(y);n=new Uint8Array(this,n,u-n);l.set(n);return y})}},function(m,q,r){q.a=function(n){var u={};decodeURIComponent(n.slice(1)).split("&").forEach(function(y){y=y.split("=",
2);u[y[0]]=y[1]});return u}},function(m,q,r){(function(n){function u(C){"function"!==typeof C&&(C=new Function(""+C));for(var E=Array(arguments.length-1),G=0;G<E.length;G++)E[G]=arguments[G+1];w[A]={callback:C,args:E};D(A);return A++}function y(C){delete w[C]}function l(C){if(v)setTimeout(l,0,C);else{var E=w[C];if(E){v=!0;try{var G=E.callback,a=E.args;switch(a.length){case 0:G();break;case 1:G(a[0]);break;case 2:G(a[0],a[1]);break;case 3:G(a[0],a[1],a[2]);break;default:G.apply(void 0,a)}}finally{y(C),
v=!1}}}}function d(){D=function(C){n.nextTick(function(){l(C)})}}function e(){if(p.postMessage&&!p.importScripts){var C=!0,E=p.onmessage;p.onmessage=function(){C=!1};p.postMessage("","*");p.onmessage=E;return C}}function f(){var C="setImmediate$"+Math.random()+"$",E=function(G){G.source!==p&&G.source!==p.parent||"string"!==typeof G.data||0!==G.data.indexOf(C)||l(+G.data.slice(C.length))};p.addEventListener?p.addEventListener("message",E,!1):p.attachEvent("onmessage",E);D=function(G){p.postMessage(C+
G,"*")}}function k(){var C=B.documentElement;D=function(E){var G=B.createElement("script");G.onreadystatechange=function(){l(E);G.onreadystatechange=null;C.removeChild(G);G=null};C.appendChild(G)}}function t(){D=function(C){setTimeout(l,0,C)}}var p="undefined"===typeof window?self:window,A=1,w={},v=!1,B=p.document,D,F=Object.getPrototypeOf&&Object.getPrototypeOf(p);F=F&&F.setTimeout?F:p;"[object process]"==={}.toString.call(p.process)?d():e()?f():B&&"onreadystatechange"in B.createElement("script")?
k():t();F.setImmediate=u;F.clearImmediate=y;q.a={setImmediate:u,clearImmediate:y}}).call(this,r(14))},function(m,q,r){var n=r(0),u=r(3);m=function(){function y(l,d){this.name=l;this.comObj=d;this.callbackIndex=1;this.postMessageTransfers=!0;this.callbacksCapabilities={};this.actionHandler={};this.actionHandlerAsync={};this.pdfnetCommandChain=this.nextAsync=null;this.pdfnetActiveCommands=new Set;this.actionHandler.console_log=[function(e){Object(n.d)(e)}];this.actionHandler.console_error=[function(e){Object(n.c)(e)}];
this.actionHandler.workerLoaded=[function(){}];this.msgHandler=this.handleMessage.bind(this);d.addEventListener("message",this.msgHandler)}y.prototype.on=function(l,d,e){var f=this.actionHandler;f[l]&&Object(n.c)('There is already an actionName called "'+l+'"');f[l]=[d,e]};y.prototype.clearActionHandlers=function(){this.actionHandler={};this.comObj.removeEventListener("message",this.msgHandler)};y.prototype.reset=function(){this.clearActionHandlers();this.comObj.reset&&this.comObj.reset()};y.prototype.replace=
function(l,d,e){this.actionHandler[l]=[d,e]};y.prototype.onAsync=function(l,d,e){var f=this.actionHandlerAsync;f[l]&&Object(n.c)('There is already an actionName called "'+l+'"');f[l]=[d,e]};y.prototype.replaceAsync=function(l,d,e){var f=this.actionHandlerAsync,k=this.actionHandler;k[l]&&delete k[l];f[l]=[d,e]};y.prototype.onNextAsync=function(l){this.nextAsync=l};y.prototype.send=function(l,d){this.postMessage({action:l,data:d})};y.prototype.getNextId=function(){return this.callbackIndex++};y.prototype.sendWithPromise=
function(l,d,e){var f=this.getNextId();l={action:l,data:d,callbackId:f,priority:e};d=window.createPromiseCapability();this.callbacksCapabilities[f]=d;try{this.postMessage(l)}catch(k){d.reject(k)}return d.promise};y.prototype.sendWithPromiseReturnId=function(l,d,e){var f=this.getNextId();l={action:l,data:d,callbackId:f,priority:e};d=window.createPromiseCapability();this.callbacksCapabilities[f]=d;try{this.postMessage(l)}catch(k){d.reject(k)}return{promise:d.promise,callbackId:f}};y.prototype.sendWithPromiseWithId=
function(l,d,e){d>this.callbackIndex&&Object(n.c)("Can't reuse callbackId "+d+" lesser than callbackIndex "+this.callbackIndex);d in this.callbacksCapabilities&&Object(n.c)("Can't reuse callbackId "+d+". There is a capability waiting to be resolved. ");l={action:l,data:e,callbackId:d};e=window.createPromiseCapability();this.callbacksCapabilities[d]=e;try{this.postMessage(l)}catch(f){e.reject(f)}return e.promise};y.prototype.sendError=function(l,d){if(l.message||l.errorData){l.message&&l.message.message&&
(l.message=l.message.message);var e=l.errorData;l={type:l.type?l.type:"JavascriptError",message:l.message};e&&Object.keys(e).forEach(function(f){e.hasOwnProperty(f)&&(l[f]=e[f])})}this.postMessage({isReply:!0,callbackId:d,error:l})};y.prototype.getPromise=function(l){if(l in this.callbacksCapabilities)return this.callbacksCapabilities[l];Object(n.c)("Cannot get promise for callback "+l)};y.prototype.cancelPromise=function(l){if(l in this.callbacksCapabilities){var d=this.callbacksCapabilities[l];
delete this.callbacksCapabilities[l];this.pdfnetActiveCommands.has(l)&&this.pdfnetActiveCommands.delete(l);d.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:l}})}else Object(n.e)("Cannot cancel callback "+l)};y.prototype.postMessage=function(l){Object(u.a)("enableWorkerLogs")&&Object(n.d)("PDFWorker","Sent "+JSON.stringify(l));if(this.postMessageTransfers){var d=this.getTransfersArray(l);this.comObj.postMessage(l,d)}else this.comObj.postMessage(l)};
y.prototype.getObjectTransfers=function(l,d){var e=this;null!==l&&"object"===typeof l&&(l instanceof Uint8Array?d.push(l.buffer):l instanceof ArrayBuffer?d.push(l):Object.keys(l).forEach(function(f){l.hasOwnProperty(f)&&e.getObjectTransfers(l[f],d)}))};y.prototype.getTransfersArray=function(l){var d=[];this.getObjectTransfers(l,d);return 0===d.length?void 0:d};y.prototype.handleMessage=function(l){var d=this,e=l.data;Object(u.a)("enableWorkerLogs")&&Object(n.d)("PDFWorker","Received "+JSON.stringify(e));
var f=this.actionHandler,k=this.actionHandlerAsync;l=this.callbacksCapabilities;var t=this.pdfnetActiveCommands;if(e.isReply)f=e.callbackId,f in l?(k=l[f],delete l[f],t.has(f)&&t.delete(f),"error"in e?k.reject(e.error):k.resolve(e.data)):Object(n.a)("Cannot resolve callback "+f);else if(e.action in f){var p=f[e.action];e.callbackId?Promise.resolve().then(function(){return p[0].call(p[1],e.data)}).then(function(A){d.postMessage({isReply:!0,callbackId:e.callbackId,data:A})},function(A){d.sendError(A,
e.callbackId)}):p[0].call(p[1],e.data)}else e.action in k?(p=k[e.action],e.callbackId?p[0].call(p[1],e).then(function(A){d.postMessage({isReply:!0,callbackId:e.callbackId,data:A});d.nextAsync()},function(A){d.sendError(A,e.callbackId);d.nextAsync()}):p[0].call(p[1],e).then(function(){d.nextAsync()},function(){d.nextAsync()})):Object(n.c)("Unknown action from worker: "+e.action)};return y}();q.a=m},function(m,q,r){r.d(q,"a",function(){return d});var n=r(4),u=r(10),y=r(2),l=function(){function e(f){var k=
this;this.promise=f.then(function(t){k.response=t;k.status=200})}e.prototype.addEventListener=function(f,k){this.promise.then(k)};return e}(),d=function(e,f,k){if(Object(y.h)()&&!k)self.Module.instantiateWasm=function(p,A){return Object(u.a)(e+"Wasm.wasm",p,f["Wasm.wasm"]).then(function(w){A(w.instance)})},k=Object(n.b)(e+"Wasm.js.mem",f["Wasm.js.mem"],!1,!1);else{k=Object(n.b)((self.Module.asmjsPrefix?self.Module.asmjsPrefix:"")+e+".js.mem",f[".js.mem"],!1);var t=Object(n.c)((self.Module.memoryInitializerPrefixURL?
self.Module.memoryInitializerPrefixURL:"")+e+".mem",f[".mem"],!0,!0);self.Module.memoryInitializerRequest=new l(t)}k=new Blob([k],{type:"application/javascript"});importScripts(URL.createObjectURL(k))}},function(m,q,r){r.d(q,"a",function(){return n});r(0);r(21);r(2);r(6);r(11);var n="optimized/"},function(m,q,r){r.d(q,"a",function(){return u});r(0);m="undefined"===typeof window?self:window;m.Core=m.Core||{};var n=m.Core,u=function(){return"".concat(n.getWorkerPath(),"pdf/")}},function(m,q,r){m.exports=
r(23)},function(m,q,r){r.r(q);r(2);m=r(15);r(24);r(25);r(28);r(29);r(30);r(31);r(32);Object(m.a)()},function(m,q,r){(function(n){"undefined"===typeof n.crypto&&(n.crypto={getRandomValues:function(u){for(var y=0;y<u.length;y++)u[y]=256*Math.random()}})})("undefined"===typeof window?self:window)},function(m,q,r){(function(n,u){function y(l){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&
d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},y(l)}(function(l){function d(){for(var z=0;z<x.length;z++)x[z][0](x[z][1]);x=[];H=!1}function e(z,I){x.push([z,I]);H||(H=!0,g(d,0))}function f(z,I){function J(K){p(I,K)}function L(K){w(I,K)}try{z(J,L)}catch(K){L(K)}}function k(z){var I=z.owner,J=I.state_;I=I.data_;var L=z[J];z=z.then;if("function"===typeof L){J=b;try{I=L(I)}catch(K){w(z,K)}}t(z,I)||(J===b&&p(z,I),J===c&&w(z,I))}function t(z,I){var J;try{if(z===I)throw new TypeError("A promises callback cannot return that same promise.");
if(I&&("function"===typeof I||"object"===y(I))){var L=I.then;if("function"===typeof L)return L.call(I,function(K){J||(J=!0,I!==K?p(z,K):A(z,K))},function(K){J||(J=!0,w(z,K))}),!0}}catch(K){return J||w(z,K),!0}return!1}function p(z,I){z!==I&&t(z,I)||A(z,I)}function A(z,I){z.state_===G&&(z.state_=a,z.data_=I,e(B,z))}function w(z,I){z.state_===G&&(z.state_=a,z.data_=I,e(D,z))}function v(z){var I=z.then_;z.then_=void 0;for(z=0;z<I.length;z++)k(I[z])}function B(z){z.state_=b;v(z)}function D(z){z.state_=
c;v(z)}function F(z){if("function"!==typeof z)throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof F))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];f(z,this)}l.createPromiseCapability=function(){var z={};z.promise=new F(function(I,J){z.resolve=I;z.reject=J});return z};var C=l.Promise,E=C&&"resolve"in C&&"reject"in C&&"all"in C&&"race"in C&&function(){var z;
new C(function(I){z=I});return"function"===typeof z}();"undefined"!==typeof exports&&exports?(exports.Promise=E?C:F,exports.Polyfill=F):"function"===typeof define&&r(27)?define(function(){return E?C:F}):E||(l.Promise=F);var G="pending",a="sealed",b="fulfilled",c="rejected",h=function(){},g="undefined"!==typeof u?u:setTimeout,x=[],H;F.prototype={constructor:F,state_:G,then_:null,data_:void 0,then:function(z,I){z={owner:this,then:new this.constructor(h),fulfilled:z,rejected:I};this.state_===b||this.state_===
c?e(k,z):this.then_.push(z);return z.then},"catch":function(z){return this.then(null,z)}};F.all=function(z){if("[object Array]"!==Object.prototype.toString.call(z))throw new TypeError("You must pass an array to Promise.all().");return new this(function(I,J){function L(Q){O++;return function(R){K[Q]=R;--O||I(K)}}for(var K=[],O=0,M=0,P;M<z.length;M++)(P=z[M])&&"function"===typeof P.then?P.then(L(M),J):K[M]=P;O||I(K)})};F.race=function(z){if("[object Array]"!==Object.prototype.toString.call(z))throw new TypeError("You must pass an array to Promise.race().");
return new this(function(I,J){for(var L=0,K;L<z.length;L++)(K=z[L])&&"function"===typeof K.then?K.then(I,J):I(K)})};F.resolve=function(z){return z&&"object"===y(z)&&z.constructor===this?z:new this(function(I){I(z)})};F.reject=function(z){return new this(function(I,J){J(z)})}})("undefined"!==typeof window?window:"undefined"!==typeof n?n:"undefined"!==typeof self?self:void 0)}).call(this,r(12),r(8).setImmediate)},function(m,q,r){(function(n,u){(function(y,l){function d(G){delete B[G]}function e(G){if(D)setTimeout(e,
0,G);else{var a=B[G];if(a){D=!0;try{var b=a.callback,c=a.args;switch(c.length){case 0:b();break;case 1:b(c[0]);break;case 2:b(c[0],c[1]);break;case 3:b(c[0],c[1],c[2]);break;default:b.apply(l,c)}}finally{d(G),D=!1}}}}function f(){C=function(G){u.nextTick(function(){e(G)})}}function k(){if(y.postMessage&&!y.importScripts){var G=!0,a=y.onmessage;y.onmessage=function(){G=!1};y.postMessage("","*");y.onmessage=a;return G}}function t(){var G="setImmediate$"+Math.random()+"$",a=function(b){b.source===y&&
"string"===typeof b.data&&0===b.data.indexOf(G)&&e(+b.data.slice(G.length))};y.addEventListener?y.addEventListener("message",a,!1):y.attachEvent("onmessage",a);C=function(b){y.postMessage(G+b,"*")}}function p(){var G=new MessageChannel;G.port1.onmessage=function(a){e(a.data)};C=function(a){G.port2.postMessage(a)}}function A(){var G=F.documentElement;C=function(a){var b=F.createElement("script");b.onreadystatechange=function(){e(a);b.onreadystatechange=null;G.removeChild(b);b=null};G.appendChild(b)}}
function w(){C=function(G){setTimeout(e,0,G)}}if(!y.setImmediate){var v=1,B={},D=!1,F=y.document,C,E=Object.getPrototypeOf&&Object.getPrototypeOf(y);E=E&&E.setTimeout?E:y;"[object process]"==={}.toString.call(y.process)?f():k()?t():y.MessageChannel?p():F&&"onreadystatechange"in F.createElement("script")?A():w();E.setImmediate=function(G){"function"!==typeof G&&(G=new Function(""+G));for(var a=Array(arguments.length-1),b=0;b<a.length;b++)a[b]=arguments[b+1];B[v]={callback:G,args:a};C(v);return v++};
E.clearImmediate=d}})("undefined"===typeof self?"undefined"===typeof n?this:n:self)}).call(this,r(12),r(14))},function(m,q){m.exports={}},function(m,q,r){(function(n){var u=function(y,l){var d=function t(k){k=this["catch"](k);return{cancel:l,promise:k,then:e.bind(k),"catch":t.bind(k)}},e=function A(t,p){t=this.then(t,p);return{cancel:l,promise:t,then:A.bind(t),"catch":d.bind(t)}};return{cancel:l,promise:y,then:e.bind(y),"catch":d.bind(y)}};n.CancellablePromise=function(y,l){var d=!1,e,f=new Promise(function(k,
t){e=function(){d||(l(),t("cancelled"))};(new Promise(y)).then(function(p){d=!0;k(p)},function(p){d=!0;t(p)})});return u(f,e)};n.CancellablePromise.all=function(y){var l=Promise.all(y);return u(l,function(){y.forEach(function(d){d.cancel&&d.cancel()})})}})("undefined"===typeof self?void 0:self)},function(m,q,r){(function(n,u){var y=r(1);(function(l){l.Module={INITIAL_MEMORY:50331648,noExitRuntime:!0,devicePixelRatio:1,cur_doc:null,cachePtrSize:0,hasBufOwnership:!0,loaded:!1,initCb:null,cachePtr:null,
cleanupState:null,docs:{},postEvent:function(d,e,f){Module.workerMessageHandler.send("event",{docId:d,type:e,data:f})},postProgressiveRenderingStartEvent:function(d,e){Module.postEvent(d,"progressiveRenderingStart",{pageNum:e})},postPagesUpdatedEvent:function(d,e,f,k){d={pageDimensions:Module.GetPageDimensions(d)};if(f)for(var t=0;t<f.length;++t)f[t]in d.pageDimensions?(d.pageDimensions[f[t]].contentChanged=!0,k&&(d.pageDimensions[f[t]].annotationsUnchanged=!0)):console.warn("Invalid Page Number ".concat(f[t]));
Module.postEvent(e,"pagesUpdated",d);return d},postPagesRenamedEvent:function(d,e){var f={};d=Module.PDFDocGetPageIterator(d,1);for(var k=1;Module.IteratorHasNext(d);++k){var t=Module.stackSave(),p=Module.IteratorCurrent(d);f[k]=Module.PageGetId(p);Module.IteratorNext(d);Module.stackRestore(t)}Module.postEvent(e,"pagesRenamed",{pageNumToId:f})},GetIndividualPageDimensions:function(d,e,f){d=Module.PageGetPageInfo(f);d.id=Module.PageGetId(f);return d},GetPageDimensionsRange:function(d,e,f){for(var k=
{},t=Module.PDFDocGetPageIterator(d,e);e<f&&Module.IteratorHasNext(t);++e){var p=Module.stackSave(),A=Module.IteratorCurrent(t);k[e]=this.GetIndividualPageDimensions(d,e,A);Module.IteratorNext(t);Module.stackRestore(p)}return k},GetPageDimensionsContentChangedList:function(d,e){e.sort(function(B,D){return B-D});for(var f={},k=e[0],t=e[e.length-1],p=0,A=Module.PDFDocGetPageIterator(d,k);k<=t&&Module.IteratorHasNext(A);++k){if(e[p]==k){++p;var w=Module.stackSave(),v=Module.IteratorCurrent(A);v=this.GetIndividualPageDimensions(d,
k,v);v.contentChanged=!0;f[k]=v;Module.stackRestore(w)}Module.IteratorNext(A)}return f},GetPageDimensions:function(d){try{var e=Module.stackSave();var f=Module.GetPageCount(d);if(0===f)throw"This document has no pages.";return Module.GetPageDimensionsRange(d,1,f+1)}finally{Module.stackRestore(e)}},loadDoc:function(d,e){"undefined"===typeof Module&&this._main();var f=null;try{var k=Module.stackSave();d.customHandlerId&&Module._TRN_PDFNetAddPDFTronCustomHandler(d.customHandlerId);e=Module.CreateDoc(d,
e);var t=Module.GetDoc(e);if(Module.PDFDocInitSecurityHandler(t))return{docId:e,pageDimensions:Module.GetPageDimensions(t)};f={type:"NeedsPassword",errorData:{docId:e},message:"This document requires a password"}}catch(p){f={type:"InvalidPDF",message:p}}finally{Module.stackRestore(k)}throw f;},loadCanvas:function(d,e,f,k,t,p,A,w){return new Promise(function(v,B){var D=Module.GetDoc(d),F=e+1,C=function(){v(Module.RasterizePage(D,F,f,k,p,t,A,w,d))},E=Module.docs[d].chunkStorage;if(E){var G=Module.GetDownloadData(D).downloader,
a=E.getRequiredChunkOffsetArrays(G,F);E.keepChunks(a.have);G=function(){var b=E.getChunks(a.missing);Module.loadPromise=b.then(function(){var c=Module.loadPromise.cancelled;Module.loadPromise=null;c||C()})["catch"](function(c){"cancelled"!==c?B(c):Module.loadPromise=null})};Module.loadPromise?Module.loadPromise.then(G,G):G()}else C()})},loadResources:function(d,e){Module.Initialize(e);Object(y.b)("worker","PDFNet initialized!");Module._TRN_PDFNetSetDefaultDiskCachingEnabled(!1);d=new Uint8Array(d);
Module.PDFNetSetResourceData(d)},onRuntimeInitialized:function(){"undefined"===typeof Module&&(("undefined"!==typeof window?window:self).Module={});(function(d){d.PDFDocExportXFDF=function(e,f){e=Module.GetDoc(e);var k=Module.stackSave();try{var t=f?Module.PDFDocFDFExtract(e,f):Module.PDFDocFDFExtract(e);var p=Module.FDFDocSaveAsXFDF(t);Module.stackRestore(k)}catch(A){throw Module.stackRestore(k),A;}return p};d.PageArrayToPageSet=function(e){var f=Module.stackSave();try{var k=Module.PageSetCreate();
for(var t=0;t<e.length;++t)Module.PageSetAddPage(k,e[t]);Module.stackRestore(f)}catch(p){throw Module.stackRestore(f),p;}return k};d.cancelCurrent=function(){var e=Module.loadPromise;return e?(e.cancel(),e.cancelled=!0):(e=Module.cleanupState)?(n(e.timeout),e.cleanupArr.reverse().forEach(function(f){f()}),Module.cleanupState=null,!0):!1};d.SetWorkerRestartCallback=function(e){Module.workerRestartCallback=e};d.XFDFMerge=function(e,f,k){if(f){var t=[];try{Object(y.b)("worker","Merge XFDF of length ".concat(f.length));
var p=Module.GetUStringFromJSString(f,!0);t.push(function(){Module.UStringDestroy(p)});var A=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_FDFDocCreateFromXFDF(p,A));var w=Module.getValue(A,"i8*");t.push(function(){Module.FDFDocDestroy(w)});Module.PDFDocFDFUpdate(e,w,k)}finally{t.reverse().forEach(function(v){v()})}}};d.MergeXFDF=function(e,f,k){return new Promise(function(t,p){var A=[];try{var w=Module.stackSave();A[A.length]=function(){Module.stackRestore(w)};var v=Module.GetDoc(e);
Module.XFDFMerge(v,f,k);A.forEach(function(B){B()});t({})}catch(B){A.forEach(function(D){D()}),p(B)}})};d.CreateBufferFile=function(e,f,k){Module.MakeDev(e);var t=new ArrayBuffer(f);t=new Uint8Array(t);k=k?0:255;for(var p=0;p<f;++p)t[p]=k;Module.docs[e]={buffer:t}};d.ReadBufferFile=function(e,f){var k=Module.docs[e].buffer;f&&(Module.docs[e].buffer=new Uint8Array(k.buffer.slice(0)));return k};d.RemoveBufferFile=function(e){Module.docs[e]=null};d.SaveHelper=function(e,f,k){k="undefined"===typeof k?
2:k;Module.MakeDev(f);var t=Module._TRN_PDFDocSave(e,Module.GetUStringFromJSString(f),k,0);Module.docs[f].sink=null;REX(t);k&16&&Module.postPagesRenamedEvent(e,f);return Module.docs[f].buffer.buffer};d.SaveDoc=function(e,f,k,t,p,A,w,v,B){return new Promise(function(D,F){var C=[];try{var E=Module.GetDoc(e),G=Module.stackSave();C[C.length]=function(){Module.stackRestore(G)};Module.XFDFMerge(E,f,w);var a=Module.allocate(8,"i8",Module.ALLOC_STACK),b=Module.allocate(Module.intArrayFromString('{"UseNonStandardRotation": true}'),
"i8",Module.ALLOC_STACK);Module.setValue(a,b,"i8*");Module.setValue(a+4,0,"i32");Module._TRN_PDFDocRefreshAnnotAppearances(E,a);if(A){a=function(N){N=new Uint8Array(N);l.FS.writeFile("watermarkFile",N);N=Module.ImageCreateFromFile(E,Module.GetUStringFromJSString("watermarkFile"));l.FS.unlink("watermarkFile");return N};var c=Module.ElementBuilderCreate();C.push(function(){Module.ElementBuilderDestroy(c)});var h=Module.ElementWriterCreate();C.push(function(){Module.ElementWriterDestroy(h)});try{if(!A.hasOwnProperty("default"))throw Error("Watermark dictionary has no 'default' key!");
var g=a(A["default"]),x=Module.PDFDocGetPageIterator(E,1);for(b=-1;Module.IteratorHasNext(x);){var H=Module.IteratorCurrent(x);Module.IteratorNext(x);b++;var z=b.toString();try{var I=void 0;if(A.hasOwnProperty(z)){var J=A[z];if(J)I=a(J);else continue}else I=g;var L=Module.PageGetPageInfo(H),K=Module.ElementBuilderCreateImage(c,I,0,0,L.width,L.height);Module.ElementWriterBegin(h,H);Module.ElementWriterWritePlacedElement(h,K);Module.ElementWriterEnd(h)}catch(N){console.warn("Watermark for page "+z+
"can not be added due to error: "+N)}}}catch(N){console.warn("Watermarks can not be added due to error: "+N)}}if(v){var O=Module.SecurityHandlerCreate(B);O&&(Module.SecurityHandlerChangeUserPasswordUString(O,v),Module.PDFDocSetSecurityHandler(E,O))}g=0;if(t){var M=Module.PDFDocGetRoot(E);(g=Module.ObjFindObj(M,"OpenAction"))&&Module.ObjPut(M,"__OpenActionBackup__",g);var P=Module.ObjPutDict(M,"OpenAction");Module.ObjPutName(P,"Type","Action");Module.ObjPutName(P,"S","JavaScript");Module.ObjPutString(P,
"JS","this.print()")}var Q=Module.SaveHelper(E,e,p);t&&(g?Module.ObjPut(M,"OpenAction",Module.ObjFindObj(M,"__OpenActionBackup__")):Module.ObjErase(M,"OpenAction"));C.reverse().forEach(function(N){N()});if(k)D({fileData:Q});else{var R=Q.slice(0);D({fileData:R})}}catch(N){C.reverse().forEach(function(S){S()}),F(N)}})};d.SaveDocFromFixedElements=function(e,f,k,t,p,A){e=Module.PDFDocCreateFromLayoutEls(e);e=Module.CreateDoc({type:"ptr",value:e});return Module.SaveDoc(e,f,!0,!1,k,t,p,A)};d.GetCurrentCanvasData=
function(e){var f=Module.currentRenderData;if(!f)return null;e&&REX(Module._TRN_PDFRasterizerUpdateBuffer(f.rast));var k=Date.now();if(f.bufPtr){e=new Uint8Array(new ArrayBuffer(f.buf_size));for(var t=0,p=0;p<f.out_height;++p)for(var A=f.bufPtr+f.stride*p,w=0;w<f.out_width;++w)e[t++]=Module.HEAPU8[A+2],e[t++]=Module.HEAPU8[A+1],e[t++]=Module.HEAPU8[A],e[t++]=Module.HEAPU8[A+3],A+=4}else e=Module.ReadBufferFile("b",e);Object(y.b)("bufferTiming","Copy took ".concat(Date.now()-k));return{pageBuf:e.buffer,
pageWidth:f.out_width,pageHeight:f.out_height}};d.RasterizePage=function(e,f,k,t,p,A,w,v,B){return new Promise(function(D,F){Module.currentRenderData={};var C=Module.currentRenderData;C.out_width=parseInt(k,10);C.out_height=parseInt(t,10);var E=[];E.push(function(){Module.currentRenderData=null});try{var G=Module.stackSave();E[E.length]=function(){Module.stackRestore(G)};var a=Module.GetPage(e,f),b=Module.PageGetPageWidth(a),c=Module.PageGetPageHeight(a);C.stride=4*C.out_width;C.buf_size=C.out_width*
C.out_height*4;Object(y.b)("Memory","Created rasterizer");C.rast=Module.PDFRasterizerCreate();E.push(function(){Object(y.b)("Memory","Destroyed rasterizer");Module._TRN_PDFRasterizerDestroy(C.rast)});if(w){var h=Module.EMSCreateUpdatedLayersContext(e,w);0!==h&&(REX(Module._TRN_PDFRasterizerSetOCGContext(C.rast,h)),E.push(function(){Module._TRN_OCGContextDestroy(h)}))}var g=!1;v.hasOwnProperty("renderAnnots")?(v.renderAnnots&&(g=!0),REX(Module._TRN_PDFRasterizerSetDrawAnnotations(C.rast,v.renderAnnots?
1:0))):REX(Module._TRN_PDFRasterizerSetDrawAnnotations(C.rast,0));v.hasOwnProperty("highlightFields")&&(v.highlightFields&&(g=!0),REX(Module._TRN_PDFRasterizerSetHighlightFields(C.rast,v.highlightFields)));v.hasOwnProperty("antiAliasing")&&REX(Module._TRN_PDFRasterizerSetAntiAliasing(C.rast,v.antiAliasing));v.hasOwnProperty("pathHinting")&&REX(Module._TRN_PDFRasterizerSetPathHinting(C.rast,v.pathHinting));if(v.hasOwnProperty("thinLinePixelGridFit")){var x=!0;v.hasOwnProperty("thinLineStrokeAdjust")&&
(x=v.thinLineStrokeAdjust);REX(Module._TRN_PDFRasterizerSetThinLineAdjustment(C.rast,v.thinLinePixelGridFit,x))}else v.hasOwnProperty("thinLineStrokeAdjust")&&REX(Module._TRN_PDFRasterizerSetThinLineAdjustment(C.rast,!1,v.thinLineStrokeAdjust));v.hasOwnProperty("imageSmoothing")?(x=!1,v.hasOwnProperty("hqImageResampling")&&(x=v.hqImageResampling),REX(Module._TRN_PDFRasterizerSetImageSmoothing(C.rast,v.imageSmoothing,x))):v.hasOwnProperty("hqImageResampling")&&REX(Module._TRN_PDFRasterizerSetImageSmoothing(C.rast,
!0,v.hqImageResampling));v.hasOwnProperty("caching")&&REX(Module._TRN_PDFRasterizerSetCaching(C.rast,v.caching));v.hasOwnProperty("expGamma")&&REX(Module._TRN_PDFRasterizerSetGamma(C.rast,v.expGamma));v.hasOwnProperty("isPrinting")&&(v.isPrinting&&(g=!0),REX(Module._TRN_PDFRasterizerSetPrintMode(C.rast,v.isPrinting)));v.hasOwnProperty("colorPostProcessMode")&&(v.colorPostProcessMode&&(g=!0),REX(Module._TRN_PDFRasterizerSetColorPostProcessMode(C.rast,v.colorPostProcessMode)));var H=Module.PageGetRotation(a);
x=1===A||3===A;H=(1===H||3===H)!==x;var z=Module.allocate(48,"i8",Module.ALLOC_STACK);if(p){p.x1=p[0];p.y1=p[1];p.x2=p[2];p.y2=p[3];var I=Module.PageGetDefaultMatrix(a,0),J=Module.Matrix2DInverse(I);p=Module.Matrix2DMultBBox(J,p);if(p.x2<p.x1){var L=p.x1;p.x1=p.x2;p.x2=L}p.y2<p.y1&&(L=p.y1,p.y1=p.y2,p.y2=L);var K=C.out_width/(H?p.y2-p.y1:p.x2-p.x1);var O=Module.GetDefaultMatrixBox(a,p,A)}else O=Module.PageGetDefaultMatrix(a,A),K=C.out_width/(x?c:b);Module.Matrix2DSet(z,K,0,0,K,0,0);Module.Matrix2DConcat(z,
O);var M=Module.allocate(4,"i8",Module.ALLOC_STACK),P=Module.allocate(4,"i8",Module.ALLOC_STACK);g?(C.bufPtr=Module._malloc(C.buf_size),Module._memset(C.bufPtr,v.pageTransparent?0:255,C.buf_size),E.push(function(){Module._free(C.bufPtr)})):(Module.CreateBufferFile("b",C.buf_size,v.pageTransparent),E.push(function(){Module.RemoveBufferFile("b")}));var Q=v.overprintMode;if(10===Q){REX(Module._TRN_PDFRasterizerSetOverprint(C.rast,1));var R=Module.PDFRasterizerRasterizeSeparations(C.rast,a,C.out_width,
C.out_height,z,0,0);D({pageBuf:R,pageWidth:C.out_width,pageHeight:C.out_height})}else{REX(Module._TRN_PDFRasterizerSetOverprint(C.rast,Q));g?REX(Module._TRN_PDFRasterizerGetChunkRenderer(C.rast,a,C.bufPtr,C.out_width,C.out_height,C.stride,4,!0,z,0,0,0,M)):REX(Module._TRN_PDFRasterizerGetChunkRendererPath(C.rast,a,Module.GetUStringFromJSString("b"),C.out_width,C.out_height,!0,z,0,0,0,M));var N=Module.getValue(M,"i8*");E.push(function(){REX(Module._TRN_ChunkRendererDestroy(N))})}var S=(new Date).getTime();
v.useProgress&&Module.postProgressiveRenderingStartEvent(B,f);var X=u(function T(){try{if(REX(Module._TRN_ChunkRendererRenderForTimePeriod(N,200,P)),Module.getValue(P,"i8"))Module.cleanupState.timeout=u(T);else{var V=Module.GetCurrentCanvasData(!1);Object(y.b)("worker","Total Page Time ".concat((new Date).getTime()-S));E.reverse().forEach(function(U){U()});D(V)}}catch(U){E.reverse().forEach(function(W){W()}),F(U)}});Module.cleanupState={cleanupArr:E,timeout:X};E.push(function(){Module.cleanupState=
null})}catch(Y){E.reverse().forEach(function(T){T()}),F(Y)}})};d.UpdatePassword=function(e,f){try{var k=Module.stackSave();var t=Module.GetDoc(e);return Module.PDFDocInitStdSecurityHandler(t,f)?(t in downloadDataMap&&REX(Module._TRN_PDFDocDownloaderInitialize(t,downloadDataMap[t].downloader)),{success:!0,pageDimensions:Module.GetPageDimensions(t)}):{success:!1}}finally{Module.stackRestore(k)}};d.TriggerFullDownload=function(e){return new Promise(function(f,k){var t=Module.GetDoc(e);try{t in downloadDataMap&&
REX(Module.PDFDocDownloaderTriggerFullDownload(t,downloadDataMap[t].downloader)),f({})}catch(p){k(p)}})};d.InsertBlankPages=function(e,f,k,t){return new Promise(function(p,A){var w=[],v=Module.GetDoc(e);try{var B=Module.stackSave();w[w.length]=function(){Module.stackRestore(B)};for(var D=f.length-1;0<=D;--D){var F=Module.PDFDocGetPageIterator(v,f[D]),C=Module.PDFDocPageCreate(v,k,t);Module.PDFDocPageInsert(v,F,C)}var E=Module.postPagesUpdatedEvent(v,e);w.forEach(function(G){G()});p(E)}catch(G){w.forEach(function(a){a()}),
A(G)}})};d.InsertPages=function(e,f,k,t,p,A){return new Promise(function(w,v){var B=[],D=Module.GetDoc(e);try{var F=Module.stackSave();B[B.length]=function(){Module.stackRestore(F)};if(f instanceof ArrayBuffer){var C=Module.CreateDoc(f);var E=Module.GetDoc(C);B[B.length]=function(){Module.DeleteDoc(C)}}else E=Module.GetDoc(f);for(var G=k.length,a=Module.PageSetCreate(),b=0;b<G;++b)Module.PageSetAddPage(a,k[b]);Module.PDFDocInsertPages(D,t,E,a,p);var c;A||(c=Module.postPagesUpdatedEvent(D,e));B.reverse().forEach(function(h){h()});
w(c)}catch(h){B.reverse().forEach(function(g){g()}),v(h)}})};d.MovePages=function(e,f,k){return new Promise(function(t,p){var A=[],w=Module.GetDoc(e);try{var v=Module.stackSave();A[A.length]=function(){Module.stackRestore(v)};for(var B=f.length,D=Module.PageSetCreate(),F=0;F<B;++F)Module.PageSetAddPage(D,f[F]);Module.PDFDocMovePages(w,k,D);var C=Module.postPagesUpdatedEvent(w,e);A.forEach(function(E){E()});t(C)}catch(E){A.forEach(function(G){G()}),p(E)}})};d.RemovePages=function(e,f,k){return new Promise(function(t,
p){var A=Module.GetDoc(e),w=[];try{var v=Module.stackSave();w[w.length]=function(){Module.stackRestore(v)};for(var B=f.length-1;0<=B;--B){var D=Module.PDFDocGetPageIterator(A,f[B]);Module.IteratorHasNext(D)&&Module.PDFDocPageRemove(A,D)}var F;k||(F=Module.postPagesUpdatedEvent(A,e));w.forEach(function(C){C()});t(F)}catch(C){w.forEach(function(E){E()}),p(C)}})};d.RotatePages=function(e,f,k){return new Promise(function(t,p){var A=Module.GetDoc(e),w=[];try{var v=Module.stackSave();w[w.length]=function(){Module.stackRestore(v)};
var B=f.length,D=0,F=Module.PDFDocGetPageIterator(A,f[0]),C=[];w.push(function(){Module._TRN_IteratorDestroy(F)});for(var E=f[0];Module.IteratorHasNext(F)&&D<f[B-1];++E){if(E===f[D]){var G=Module.IteratorCurrent(F),a=(Module.PageGetRotation(G)+k)%4;Module.PageSetRotation(G,a);C.push(E);D++}Module.IteratorNext(F)}var b=Module.postPagesUpdatedEvent(A,e,C,!0);w.reverse().forEach(function(c){c()});t(b)}catch(c){w.reverse().forEach(function(h){h()}),p(c)}})};d.ExtractPages=function(e,f,k,t,p){return new Promise(function(A,
w){var v=[];try{var B=Module.GetDoc(e),D=Module.stackSave();v[v.length]=function(){Module.stackRestore(D)};var F=function(G){v.reverse().forEach(function(a){a()});w(G)};Module.XFDFMerge(B,k,p);var C=Module.CreateEmptyDoc();v[v.length]=function(){Module.DeleteDoc(C)};var E=Module.InsertPages(C,e,f,1,!0).then(function(){return Module.SaveDoc(C,void 0,!0,!1,void 0,t)}).then(function(G){v.reverse().forEach(function(a){a()});return G})["catch"](F);A(E)}catch(G){F(G)}})};d.CropPages=function(e,f,k,t,p,
A){return new Promise(function(w,v){var B=Module.GetDoc(e),D=[];try{var F=Module.stackSave();D[D.length]=function(){Module.stackRestore(F)};var C=f.length,E=0,G=Module.PDFDocGetPageIterator(B,f[0]);D.push(function(){Module._TRN_IteratorDestroy(G)});for(var a=[],b=f[0];Module.IteratorHasNext(G)&&E<f[C-1];++b){if(b===f[E]){var c=Module.IteratorCurrent(G),h=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetCropBox(c,h));var g=Module.PageGetRotation(c),x=Module.getValue(h,"double"),H=
Module.getValue(h+8,"double"),z=Module.getValue(h+16,"double"),I=Module.getValue(h+24,"double");0===g%4?(Module.setValue(h,x+p,"double"),Module.setValue(h+8,H+t,"double"),Module.setValue(h+16,z-A,"double"),Module.setValue(h+24,I-k,"double")):1===g%4?(Module.setValue(h,x+k,"double"),Module.setValue(h+8,H+p,"double"),Module.setValue(h+16,z-t,"double"),Module.setValue(h+24,I-A,"double")):2===g%4?(Module.setValue(h,x+A,"double"),Module.setValue(h+8,H+k,"double"),Module.setValue(h+16,z-p,"double"),Module.setValue(h+
24,I-t,"double")):3===g%4&&(Module.setValue(h,x+t,"double"),Module.setValue(h+8,H+A,"double"),Module.setValue(h+16,z-k,"double"),Module.setValue(h+24,I-p,"double"));Module.setValue(h+32,0,"double");REX(Module._TRN_PageSetBox(c,0,h));REX(Module._TRN_PageSetBox(c,1,h));a.push(b);E++}Module.IteratorNext(G)}var J=Module.postPagesUpdatedEvent(B,e,a,!0);D.reverse().forEach(function(L){L()});w(J)}catch(L){D.reverse().forEach(function(K){K()}),v(L)}})}})("undefined"===typeof self?this.Module:self.Module);
this.loaded=!0;Module.initCb&&Module.initCb()}}})(self)}).call(this,r(8).clearImmediate,r(8).setImmediate)},function(m,q,r){(function(n){function u(d){"@babel/helpers - typeof";return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(d)}var y=r(1),l="undefined"!==typeof window?window:self;l.global=l;(function(d){d.currentFileString="/current";
var e=0,f=0,k={},t=null;Module.chunkMax=200;var p=function(a,b,c,h,g){var x=new XMLHttpRequest;return CancellablePromise(function(H,z){x.open("GET",a,!0);x.responseType="arraybuffer";x.onerror=function(){z("Network error occurred")};x.onload=function(){if(206===this.status&&x.response.byteLength===c){var J=new Int8Array(x.response);H(J)}else z("Download Failed")};var I=["bytes=",b,"-",b+c-1].join("");x.setRequestHeader("Range",I);g&&(x.withCredentials=g);h&&Object.keys(h).forEach(function(J){x.setRequestHeader(J,
h[J])});x.send()},function(){x.abort()})},A=function(a){this.maxChunkNum=a;this.lruList=[];this.chunkMap={}};A.prototype={has:function(a){return a in this.chunkMap},insert:function(a,b){this.lruList.length>=this.maxChunkNum&&(delete this.chunkMap[this.lruList[0]],this.lruList.shift());this.lruList.push(b);this.chunkMap[b]=a},get:function(a){var b=this.lruList.lastIndexOf(a);0<=b&&this.lruList.splice(b,1);this.lruList.push(a);return this.chunkMap[a]}};var w=function(a){this.file=a;this.filePosition=
0;this.fileLength=a.size;this.chunkSize=1048576;this.chunkCache=new A(8);this.reader=new FileReaderSync};w.prototype={read:function(a,b,c){c=this.filePosition+c<=this.fileLength?c:this.fileLength-this.filePosition;a=a.subarray(b,b+c);b=c;for(var h=this.filePosition%this.chunkSize,g=this.filePosition-h,x=0;0<c;){if(this.chunkCache.has(g))var H=this.chunkCache.get(g);else H=new Int8Array(this.reader.readAsArrayBuffer(this.file.slice(g,g+this.chunkSize))),this.chunkCache.insert(H,g);var z=H.length,I=
h+c;I<=z?(a.set(H.subarray(h,I),x),this.filePosition+=c,c=0):(a.set(H.subarray(h),x),this.filePosition+=z-h,h=0,g=this.filePosition,c=I-z,x=b-c)}return b},seek:function(a){this.filePosition=a},close:function(){this.reader=this.file=null},getPos:function(){return this.filePosition},getTotalSize:function(){return this.fileLength}};var v=function(a){this.data=a;this.position=0;this.length=this.data.length};v.prototype={read:function(a,b,c){c=this.position+c<=this.length?c:this.length-this.position;a=
a.subarray(b,b+c);b=this.data.subarray(this.position,this.position+c);a.set(b);this.position+=c;return c},write:function(a,b,c){c=this.position+c<=this.length?c:this.length-this.position;a=a.subarray(b,b+c);this.data.subarray(this.position,this.position+c).set(a);this.position+=c;return c},seek:function(a){this.position=a},close:function(){this.data=null},getPos:function(){return this.position},getTotalSize:function(){return this.length}};var B=function(a,b,c,h,g){"object"===u(a)?(this.lruList=a.lruList,
this.chunkMap=a.chunkMap,this.length=a.length,this.url=a.url,this.customHeaders=a.customHeaders,this.withCredentials=a.withCredentials):(this.lruList=[],this.chunkMap={},this.chunkMap[b]=g,this.length=b,this.url=a,this.customHeaders=c,this.withCredentials=h)};B.prototype={lruUpdate:function(a){var b=this.lruList.lastIndexOf(a);0<=b&&this.lruList.splice(b,1);this.lruList.push(a)},getChunk:function(a){var b=this;if(this.chunkMap[a])this.lruUpdate(a);else{var c=Math.min(a+1048576,this.length)-1,h=new XMLHttpRequest;
h.open("GET",this.url,!1);h.responseType="arraybuffer";h.setRequestHeader("Range",["bytes=",a,"-",c].join(""));this.withCredentials&&(h.withCredentials=this.withCredentials);this.customHeaders&&Object.keys(this.customHeaders).forEach(function(g){h.setRequestHeader(g,b.customHeaders[g])});h.send();if(200===h.status||206===h.status)this.writeChunk(new Int8Array(h.response),a);else throw Error("Failed to load data from");}return this.chunkMap[a]},hadChunk:function(a){return a in this.chunkMap},hasChunk:function(a){return this.chunkMap[a]},
getCacheData:function(){return this.chunkMap[this.length]},getRequiredChunkOffsetArrays:function(a,b){var c={have:[],downloading:[],missing:[]};try{var h=Module.stackSave();var g=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DownloaderGetRequiredChunksSize(a,b,g));var x=Module.getValue(g,"i8*");if(x){var H=Module._malloc(4*x);REX(Module._TRN_DownloaderGetRequiredChunks(a,b,H,x));for(a=0;a<x;++a){var z=Module.getValue(H+4*a,"i8*");this.hasChunk(z)?c.have.push(z):this.hadChunk(z)?c.missing.push(z):
c.downloading.push(z)}}}finally{H&&Module._free(H),Module.stackRestore(h)}return c},keepVisibleChunks:function(a,b){for(var c=b.length,h=Module.chunkMax/2,g=0,x=0;x<c;++x){var H=this.getRequiredChunkOffsetArrays(a,b[x]),z=H.have,I=z.length;g+=I;if(g>h){this.keepChunks(z.slice(0,I-g+h));break}this.keepChunks(H.have)}},getChunkAsync:function(a){var b=this,c=a+1048576,h=1048576;c>this.length&&(h-=c-this.length);return p(this.url,a,h,this.customHeaders,this.withCredentials).then(function(g){b.writeChunk(g,
a)})},getChunks:function(a){for(var b=a.length,c=Array(b),h=0;h<b;++h)c[h]=this.getChunkAsync(a[h]);return CancellablePromise.all(c)},keepChunks:function(a){for(var b=a.length,c=0;c<b;++c)this.lruUpdate(a[c])},writeChunk:function(a,b,c){c=c||0;var h=this.chunkMap[b],g=a.length,x=this.lruList.length>=Module.chunkMax&&!h;1048576!==g||a.buffer.byteLength!==g?(x?(h=this.lruList.shift(),x=this.chunkMap[h],1048576>x.length&&(x=new Int8Array(1048576)),this.chunkMap[h]=null):x=h?this.chunkMap[b]:new Int8Array(1048576),
x.subarray(c,c+g).set(a),a=x):x&&(h=this.lruList.shift(),this.chunkMap[h]=null);this.lruUpdate(b);this.chunkMap[b]=a}};var D=function(a){this.chunkStorage=a;this.position=0;this.length=this.chunkStorage.length};D.prototype={read:function(a,b,c){var h=this.position+c<=this.length,g=h?c:this.length-this.position;if(this.position<this.length){var x;for(x=0;x<g;){var H=this.position%1048576;var z=this.position-H;var I=g-x,J=a.subarray(b+x,b+x+I);if(this.chunkStorage.hadChunk(z))z=this.chunkStorage.getChunk(z).subarray(H,
H+I),J.set(z),J=z.length,x+=J,this.position+=J;else for(this.position+=I;x<g;++x)J[x]=0}}if(!h){b+=g;if(c-=g)h=this.chunkStorage.getCacheData(),c>h.length&&(c=h.length),x=this.position-this.length,a=a.subarray(b,b+c),z=h.subarray(x,x+c),a.set(z);this.position+=c;return g+c}return g},write:function(a,b,c){var h=this.position+c<=this.length,g=this.position+c<=this.length?c:this.length-this.position,x=a.subarray(b,b+g),H=this.position%1048576;this.chunkStorage.writeChunk(x,this.position-H,H);this.position+=
g;if(!h){x=b+g;if(c-=g)b=this.chunkStorage.getCacheData(),c>b.length&&(c=b.length),h=this.position-this.length,x=a.subarray(x,x+c),b.subarray(h,h+c).set(x);this.position+=c;return g+c}return g},seek:function(a){this.position=a},close:function(){this.chunkStorage=null},getPos:function(){return this.position},getTotalSize:function(){return this.length}};var F=function(a){this.docId=a;this.length=0;this.data=new Int8Array(8192);this.position=0};F.prototype={seek:function(a){this.position=a},close:function(){var a=
new Int8Array(this.data.buffer.slice(0,this.length));Module.ChangeDocBackend(this.docId,{ptr:Module.GetDoc(this.docId),buffer:a});this.data=null},getPos:function(){return this.position},getTotalSize:function(){return this.length},read:function(a,b,c){var h=this.data.length;c=c+b<h?c:h-b;a=a.subarray(b,b+c);b=this.data.subarray(this.position,this.position+c);a.set(b);this.position+=c;return c},write:function(a,b,c){for(var h=this.position+c,g=this.data.length;h>g;){g=Math.max(g*(16777216<g?1.5:2),
h);var x=new Int8Array(g);x.set(this.data.subarray(0,this.length),0);this.data=x}a=a.subarray(b,b+c);this.data.set(a,this.position);this.position+=c;this.position>this.length&&(this.length=this.position);return c}};var C={IsSink:function(a){return 66===(a.flags&255)},open:function(a){var b=a.path.slice(1);this.IsSink(a)?(a.provider=new F(b),Module.docs[b].sink=a.provider):a.provider=Module.docs[b].sink?new v(Module.docs[b].sink.data):Module.docs[b].chunkStorage?new D(Module.docs[b].chunkStorage):
Module.docs[b].buffer?new v(Module.docs[b].buffer):new w(Module.docs[b].file)},close:function(a){a.provider.close()},read:function(a,b,c,h,g){return a.provider.read(b,c,h)},llseek:function(a,b,c){a=a.provider;1===c?b+=a.getPos():2===c&&(b=a.getTotalSize()+b);if(0>b)throw new FS.ErrnoError(l.ERRNO_CODES.EINVAL);a.seek(b);return b},write:function(a,b,c,h,g){return h?a.provider.write(b,c,h):0}};l.THROW=function(a){throw{type:"PDFWorkerError",message:a};};var E=function(a){return"Exception: \n\t Message: ".concat(d.GetJSStringFromCString(Module._TRN_GetMessage(a)),
"\n\t Filename: ").concat(d.GetJSStringFromCString(Module._TRN_GetFileName(a)),"\n\t Function: ").concat(d.GetJSStringFromCString(Module._TRN_GetFunction(a)),"\n\t Linenumber: ").concat(d.GetJSStringFromCString(Module._TRN_GetLineNum(a)))};d.GetErrToString=E;l.REX=function(a){a&&THROW(E(a))};d.Initialize=function(a){var b=Module.stackSave();a=a?Module.allocate(Module.intArrayFromString(a),"i8",Module.ALLOC_STACK):0;REX(Module._TRN_PDFNetInitialize(a));Module.stackRestore(b)};d.GetDoc=function(a){if(a in
Module.docs)return Module.docs[a].ptr;throw{type:"InvalidDocReference",message:"Unable to access Document id=".concat(a,". The document appears to be invalid or was deleted.")};};d.clearDocBackend=function(){null!==Module.cachePtr?(Module.hasBufOwnership&&Module._free(Module.cachePtr),Module.cachePtr=null):Module.docs[d.currentFileString]&&delete Module.docs[d.currentFileString]};d.MakeDev=function(a){if(!k[a]){var b=FS.makedev(3,5);FS.registerDevice(b,C);FS.mkdev(a,511,b);k[a]=!0}};d.CreateDocFileBackend=
function(a,b){Module.MakeDev(b);var c=Module.allocate(4,"i8",Module.ALLOC_STACK);Module.docs[b]={file:a};a=Module.allocate(Module.intArrayFromString(b),"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreateFromFilePath(a,c));c=Module.getValue(c,"i8*");Module.docs[b].ptr=c};d.InsertImageIntoDoc=function(a,b,c){var h=[];try{var g=Module.ElementBuilderCreate();h.push(function(){Module.ElementBuilderDestroy(g)});var x=Module.ElementWriterCreate();h.push(function(){Module.ElementWriterDestroy(x)});if(c){var H=
c.width;var z=c.height}else H=Module.ImageGetImageWidth(b),z=Module.ImageGetImageHeight(b),c=H/z,c>612/792?(H=612,z=parseInt(H/c,10)):(z=792,H=parseInt(z*c,10));var I=Module.ElementBuilderCreateImage(g,b,0,0,H,z),J=Module.PDFDocPageCreate(a,H,z);Module.ElementWriterBegin(x,J);Module.ElementWriterWritePlacedElement(x,I);Module.ElementWriterEnd(x);Module.PDFDocPagePushBack(a,J)}finally{h.reverse().forEach(function(L){L()})}};var G=function(a,b,c){"object"===u(a)?(this.m_pages=a.m_pages,this.m_has_named_dests=
a.m_has_named_dests,this.m_finished_download=a.m_finished_download,this.m_has_outline=a.m_has_outline,this.m_current_page=a.m_current_page,this.m_id=a.m_id,this.size=a.size,this.timeout=a.timeout,this.eventPageArray=a.eventPageArray,this.requirePageCallbacks=a.requirePageCallbacks):(this.m_pages=[],this.m_has_outline=this.m_finished_download=this.m_has_named_dests=!1,this.m_current_page=1,this.m_id=c,this.size=a,this.timeout=null,this.eventPageArray=[],this.requirePageCallbacks={});this.downloadUserData=
Module.createDownloadUserData(b,c)};G.prototype={getJSUrl:function(){return Module.extractDownloadUserData(this.downloadUserData).url},getDocId:function(){return Module.extractDownloadUserData(this.downloadUserData).docId},destroyUserData:function(){this.m_id in Module.withCredentials&&delete Module.withCredentials[this.m_id];this.m_id in Module.customHeadersMap&&delete Module.customHeadersMap[this.m_id];Module.destroyDownloadUserData(this.downloadUserData)}};d.createDownloadUserData=function(a,b){a=
Module.allocate(Module.intArrayFromString(a),"i8",Module.ALLOC_NORMAL);var c=Module.allocate(8,"i8",Module.ALLOC_NORMAL);Module.setValue(c,a,"i8*");Module.setValue(c+4,parseInt(b,10),"i32");return this.downloadUserData=c};d.extractDownloadUserData=function(a){var b=Module.getValue(a,"i8*");b=d.GetJSStringFromCString(b);a=Module.getValue(a+4,"i32").toString();return{url:b,docId:a}};d.destroyDownloadUserData=function(a){Module._free(Module.getValue(a,"i8*"));Module._free(a)};l.downloadDataMap={};Module.customHeadersMap=
{};Module.withCredentials={};d.GetDownloadData=function(a){if(a in downloadDataMap)return downloadDataMap[a]};d.DownloaderHint=function(a,b){var c=Module.GetDoc(a),h=downloadDataMap[c];b.currentPage&&(h.m_current_page=b.currentPage);if(b.visiblePages){var g=b.visiblePages;for(b=0;b<g.length;++b)++g[b];Object.keys(h.requirePageCallbacks).forEach(function(H){h.requirePageCallbacks.hasOwnProperty(H)&&g.push(parseInt(H,10))});(b=Module.docs[a].chunkStorage)&&b.keepVisibleChunks(h.downloader,g);a=g.length;
var x=Module.allocate(4*a,"i8",Module.ALLOC_STACK);for(b=0;b<a;++b)Module.setValue(x+4*b,g[b],"i32");REX(Module._TRN_PDFDocDownloadPages(c,x,a,1,0))}};d.RequirePage=function(a,b){return new Promise(function(c,h){h=Module.GetDoc(a);var g=downloadDataMap[h];!g||g.m_finished_download||g.m_pages[b]?c():(b in g.requirePageCallbacks?g.requirePageCallbacks[b].push(c):g.requirePageCallbacks[b]=[c],c=Module.allocate(4,"i8",Module.ALLOC_STACK),Module.setValue(c,b,"i32"),Module._TRN_PDFDocDownloadPages(h,c,
1,0,0))})};d.IsLinearizationValid=function(a){a=Module.GetDoc(a);if(a=downloadDataMap[a]){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DownloaderIsLinearizationValid(a.downloader,b));return 0!==Module.getValue(b,"i8")}return!1};d.ShouldRunRender=function(a,b){a=Module.GetDoc(a);return(a=downloadDataMap[a])?a.m_finished_download?!0:a.m_pages[b]:!0};d.postPagesDownloadedEvent=function(a,b,c){a={pageDimensions:Module.GetPageDimensionsContentChangedList(a,c),pageNumbers:c};Module.postEvent(b,
"pagesDownloaded",a);return a};d.createCallbacksStruct=function(a){if(!t){var b=function(c){return function(h){var g=arguments;h in downloadDataMap?c.apply(this,g):n(function(){h in downloadDataMap&&c.apply(this,g)},0)}};t={downloadProc:Module.addFunction(function(c,h,g,x,H){x=Module.extractDownloadUserData(x);var z=x.docId;p(x.url,h,g,Module.customHeadersMap[z],Module.withCredentials[z]).then(function(I){z in Module.docs&&Module.docs[z].chunkStorage&&Module.docs[z].chunkStorage.writeChunk(I,h);Module._TRN_DownloadComplete(0,
h,g,c)})},"viiiii"),notifyUpdatePage:Module.addFunction(b(function(c,h,g,x){var H=downloadDataMap[c];H.m_pages[h]=!0;var z=H.eventPageArray;if(h in H.requirePageCallbacks)for(g=H.requirePageCallbacks[h],x=0;x<g.length;++x)g[x]();H.timeout?z.push(h):(z=H.eventPageArray=[h],H.timeout=setTimeout(function(){Module.postPagesDownloadedEvent(c,H.m_id,z);H.timeout=null},100))}),"viiii"),notifyUpdateOutline:Module.addFunction(b(function(c,h){c=downloadDataMap[c];c.m_has_outline||(c.m_has_outline=!0,Module.postEvent(c.m_id,
"bookmarksUpdated",{}))}),"vii"),notifyUpdateNamedDests:Module.addFunction(b(function(c,h){c=downloadDataMap[c];c.m_has_named_dests||(c.m_has_named_dests=!0)}),"vii"),notifyUpdateThumb:Module.addFunction(b(function(c,h){}),"viiii"),notifyFinishedDownload:Module.addFunction(b(function(c,h){c=downloadDataMap[c];c.m_finished_download||(c.m_finished_download=!0,Module.postEvent(c.m_id,"documentComplete",{}))}),"vii"),notifyDocumentError:Module.addFunction(function(c,h){},"viii"),getCurrentPage:Module.addFunction(function(c,
h){return downloadDataMap[c].m_current_page},"iii")}}b=Module.allocate(40,"i8",Module.ALLOC_STACK);Module.setValue(b,t.downloadProc,"i8*");Module.setValue(b+4,a,"i8*");Module.setValue(b+8,t.notifyUpdatePage,"i8*");Module.setValue(b+12,t.notifyUpdateOutline,"i8*");Module.setValue(b+16,t.notifyUpdateNamedDests,"i8*");Module.setValue(b+20,t.notifyUpdateThumb,"i8*");Module.setValue(b+24,t.notifyFinishedDownload,"i8*");Module.setValue(b+28,t.notifyDocumentError,"i8*");Module.setValue(b+32,t.getCurrentPage,
"i8*");Module.setValue(b+36,0,"i8*");return b};d.CreateDocDownloaderBackend=function(a,b,c){var h=a.url,g=a.size,x=a.customHeaders,H=a.withCredentials,z=a.shouldUseMinimumDownloads;x&&(Module.customHeadersMap[c]=x);H&&(Module.withCredentials[c]=H);var I=a.downloadData?new G(a.downloadData,h,c,x,H):new G(a.size,h,c,x,H);var J=Module.createCallbacksStruct(I.downloadUserData),L=Module.allocate(4,"i8",Module.ALLOC_STACK);Module.MakeDev(c);a.chunkStorage?h=new B(a.chunkStorage):(a=new Int8Array(new ArrayBuffer(Math.ceil((a.size+
1048576-1)/1048576/8))),h=new B(h,g,x,H,a));Module.docs[c]={chunkStorage:h};REX(Module._TRN_DownloaderCreate(J,g,Module.GetUStringFromJSString(c),z,L));I.downloader=Module.getValue(L,"i8*");if(g=Module._TRN_PDFDocCreateFromFilter(I.downloader,b))Module._TRN_FilterDestroy(I.downloader),REX(g);b=Module.getValue(b,"i8*");Module.docs[c].ptr=b;Module.PDFDocInitSecurityHandler(b)&&REX(Module._TRN_PDFDocDownloaderInitialize(b,I.downloader));downloadDataMap[b]=I};d.CreateDocBackend=function(a,b){var c=a.value,
h=a.extension,g=a.type,x=Module.allocate(4,"i8",Module.ALLOC_STACK),H=Module.stackSave();try{if(c)if("ptr"===g)Module.docs[b]={ptr:c};else{c.shouldUseMinimumDownloads=a.shouldUseMinimumDownloads;var z="object"===u(c)&&c.url;g=h&&"pdf"!==h;if(z)d.CreateDocDownloaderBackend(c,x,b);else{var I=c instanceof ArrayBuffer;z=I?"buffer":"file";if(I&&(c=new Uint8Array(c),10485760>c.length+e&&!g)){e+=c.length;var J=c.length,L=Module._malloc(c.length);Module.HEAPU8.set(c,L);REX(Module._TRN_PDFDocCreateFromBuffer(L,
J,x));var K=Module.getValue(x,"i8*");Module.docs[b]={ptr:K,bufPtr:L,bufPtrSize:J,ownership:!0};Module.docs[b].extension=h;return}Module.MakeDev(b);I={};I[z]=c;Module.docs[b]=I;if(g){if(a.pageSizes&&a.pageSizes.length)var O=a.pageSizes[0];else a.defaultPageSize&&(O=a.defaultPageSize);var M=Module.GetUStringFromJSString(b);REX(Module._TRN_PDFDocCreate(x));K=Module.getValue(x,"i8*");var P=Module.ImageCreateFromFile(K,M);Module.InsertImageIntoDoc(K,P,O)}else{var Q=Module.allocate(Module.intArrayFromString(b),
"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreateFromFilePath(Q,x));K=Module.getValue(x,"i8*")}Module.docs[b].extension=h;Module.docs[b].ptr=K}}else REX(Module._TRN_PDFDocCreate(x)),K=Module.getValue(x,"i8*"),Module.docs[b]={ptr:K},Module.docs[b].extension=h}finally{Module.stackRestore(H)}};d.ChangeDocBackend=function(a,b){var c=Module.docs[a];c?(c.bufPtr&&c.ownership&&(Module._free(c.bufPtr),e-=c.bufPtrSize),delete Module.docs[a]):Object(y.d)("Trying to delete document ".concat(a," that does not exist."));
Module.docs[a]=b};d.DeleteDoc=function(a){var b=Module.docs[a];b?(b.ptr&&(b.ptr in downloadDataMap&&(clearTimeout(downloadDataMap[b.ptr].timeout),downloadDataMap[b.ptr].destroyUserData(),delete downloadDataMap[b.ptr]),Module.PDFDocDestroy(b.ptr)),b.bufPtr&&b.ownership&&(Module._free(b.bufPtr),e-=b.bufPtrSize),delete Module.docs[a]):Object(y.d)("Trying to delete document ".concat(a," that does not exist."))};d.CreateDoc=function(a,b){if("id"===a.type)return Module.docPtrStringToIdMap[a.value];if(!b){do b=
(++f).toString();while(b in Module.docs)}Module.hasBufOwnership=!0;d.CreateDocBackend(a,b);return b};d.CreateEmptyDoc=function(){var a=(++f).toString(),b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreate(b));b=Module.getValue(b,"i8*");Module.docs[a]={ptr:b};return a};d.PDFDocCreateFromLayoutEls=function(a){var b=new Uint8Array(a);a=Module._malloc(b.length);var c=Module.stackSave(),h=Module.allocate(4,"i8",Module.ALLOC_STACK);Module.HEAPU8.set(b,a);b=Module._TRN_PDFDocCreateFromLayoutEls(a,
b.length,h);h=Module.getValue(h,"i8*");Module._free(a);Module.stackRestore(c);REX(b);return h};d.GetPageCount=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPageCount(a,b));return Module.getValue(b,"i8*")};d.GetPage=function(a,b){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPage(a,b,c));a=Module.getValue(c,"i8*");Module.PageIsValid(a)||THROW("Trying to access page that doesn't exist at index ".concat(b));return a};d.PageGetPageWidth=
function(a){var b=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetPageWidth(a,1,b));return Module.getValue(b,"double")};d.PageGetPageHeight=function(a){var b=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetPageHeight(a,1,b));return Module.getValue(b,"double")};d.PageGetDefaultMatrix=function(a,b){var c=Module.allocate(48,"i8",Module.ALLOC_STACK);b||(b=0);REX(Module._TRN_PageGetDefaultMatrix(a,!0,1,b,c));return c};d.GetMatrixAsArray=function(a){for(var b=[],c=0;6>
c;++c)b[c]=Module.getValue(a+8*c,"double");return b};d.PageGetPageInfo=function(a){var b=Module.allocate(48,"i8",Module.ALLOC_STACK),c=Module.allocate(8,"i8",Module.ALLOC_STACK),h=Module.allocate(8,"i8",Module.ALLOC_STACK),g=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetPageInfo(a,!0,1,0,c,h,b,g));return{rotation:Module.getValue(g,"i8*"),width:Module.getValue(c,"double"),height:Module.getValue(h,"double"),matrix:Module.GetMatrixAsArray(b)}};d.GetUStringFromJSString=function(a,
b){var c=Module.allocate(4,"i8",Module.ALLOC_STACK),h=2*(a.length+1),g=Module.allocate(h,"i8",b?Module.ALLOC_NORMAL:Module.ALLOC_STACK);Module.stringToUTF16(a,g,h);a=Module._TRN_UStringCreateFromString(g,c);b&&Module._free(g);REX(a);return Module.getValue(c,"i8*")};d.GetJSStringFromUString=function(a){var b=Module.allocate(4,"i16*",Module.ALLOC_STACK);REX(Module._TRN_UStringCStr(a,b));return Module.UTF16ToString(Module.getValue(b,"i16*"))};d.GetJSStringFromCString=function(a){return Module.UTF8ToString(a)};
d.PDFNetSetResourceData=function(a){Module.res_ptr=Module._malloc(a.length);Module.HEAPU8.set(a,Module.res_ptr);REX(Module._TRN_PDFNetSetResourceData(Module.res_ptr,a.length));Module.res_ptr_size=a.length};d.PDFDocDestroy=function(a){REX(Module._TRN_PDFDocDestroy(a))};d.VectorGetSize=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_VectorGetSize(a,b));return Module.getValue(b,"i32")};d.VectorGetAt=function(a,b){var c=Module.allocate(1,"i8*",Module.ALLOC_STACK);REX(Module._TRN_VectorGetAt(a,
b,c));return Module.getValue(c,"i8*")};d.VectorDestroy=function(a){REX(Module._TRN_VectorDestroy(a))};d.PDFRasterizerCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFRasterizerCreate(0,a));return Module.getValue(a,"i8*")};d.ExtractSeparationData=function(a){var b=Module.getValue(a,"i8*"),c=Module.getValue(a+4,"i32"),h=Module.getValue(a+8,"i8*"),g=Module.HEAPU8[a+12],x=Module.HEAPU8[a+13],H=Module.HEAPU8[a+14];a=Module.HEAPU8[a+15];var z=new Uint8Array(c);z.set(Module.HEAPU8.subarray(b,
b+c));b=Module.GetJSStringFromUString(h);return{color:[g,x,H,a],data:z.buffer,name:b}};d.PDFRasterizerRasterizeSeparations=function(a,b,c,h,g,x,H){var z=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFRasterizerRasterizeSeparations(a,b,c,h,g,x,H,z));a=Module.getValue(z,"i8*");b=Module.VectorGetSize(a);c=Array(b);for(h=0;h<b;++h)g=Module.VectorGetAt(a,h),c[h]=Module.ExtractSeparationData(g);Module.VectorDestroy(a);return c};d.PageGetRotation=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_PageGetRotation(a,b));return Module.getValue(b,"i8*")};d.PageGetId=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetSDFObj(a,b));b=Module.getValue(b,"i8*");a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetObjNum(b,a));a=Module.getValue(a,"i32");var c=Module.allocate(2,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetGenNum(b,c));c=Module.getValue(c,"i16");return"".concat(a,"-").concat(c)};d.PageSetRotation=function(a,b){REX(Module._TRN_PageSetRotation(a,
b))};d.GetDefaultMatrixBox=function(a,b,c){var h=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetRotation(a,h));a=(Module.getValue(h,"i32")+c)%4;c=Module.allocate(48,"i8",Module.ALLOC_STACK);switch(a){case 0:return REX(Module._TRN_Matrix2DSet(c,1,0,0,-1,-b.x1,b.y2)),c;case 1:return REX(Module._TRN_Matrix2DSet(c,0,1,1,0,-b.y1,-b.x1)),c;case 2:return REX(Module._TRN_Matrix2DSet(c,-1,0,0,1,b.x2,-b.y1)),c;case 3:return REX(Module._TRN_Matrix2DSet(c,0,-1,-1,0,b.y2,b.x2)),c}throw Error("Yikes, we don't support that rotation type");
};d.Matrix2DMultBBox=function(a,b){var c=Module.allocate(8,"i8",Module.ALLOC_STACK),h=Module.allocate(8,"i8",Module.ALLOC_STACK);Module.setValue(c,b.x1,"double");Module.setValue(h,b.y1,"double");REX(Module._TRN_Matrix2DMult(a,c,h));b.x1=Module.getValue(c,"double");b.y1=Module.getValue(h,"double");Module.setValue(c,b.x2,"double");Module.setValue(h,b.y2,"double");REX(Module._TRN_Matrix2DMult(a,c,h));b.x2=Module.getValue(c,"double");b.y2=Module.getValue(h,"double");return b};d.Matrix2DMult=function(a,
b){var c=Module.allocate(8,"i8",Module.ALLOC_STACK),h=Module.allocate(8,"i8",Module.ALLOC_STACK);Module.setValue(c,b.x,"double");Module.setValue(h,b.y,"double");REX(Module._TRN_Matrix2DMult(a,c,h));b.x=Module.getValue(c,"double");b.y=Module.getValue(h,"double");return b};d.Matrix2DConcat=function(a,b){var c=Module.getValue(b,"double"),h=Module.getValue(b+8,"double"),g=Module.getValue(b+16,"double"),x=Module.getValue(b+24,"double"),H=Module.getValue(b+32,"double");b=Module.getValue(b+40,"double");
REX(Module._TRN_Matrix2DConcat(a,c,h,g,x,H,b))};d.Matrix2DSet=function(a,b,c,h,g,x,H){REX(Module._TRN_Matrix2DSet(a,b,c,h,g,x,H))};d.IteratorHasNext=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_IteratorHasNext(a,b));return 0!==Module.getValue(b,"i8")};d.IteratorCurrent=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_IteratorCurrent(a,b));return Module.getValue(Module.getValue(b,"i8*"),"i8*")};d.IteratorNext=function(a){REX(Module._TRN_IteratorNext(a))};
d.PageGetNumAnnots=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetNumAnnots(a,b));return Module.getValue(b,"i32")};d.PageGetAnnot=function(a,b){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetAnnot(a,b,c));return Module.getValue(c,"i8*")};d.PageAnnotRemove=function(a,b){REX(Module._TRN_PageAnnotRemoveByIndex(a,b))};d.AnnotGetType=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_AnnotGetType(a,b));return Module.getValue(b,
"i32")};d.AnnotHasAppearance=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_AnnotGetAppearance(a,0,0,b));return 0!==Module.getValue(b,"i8*")};d.AnnotRefreshAppearance=function(a){REX(Module._TRN_AnnotRefreshAppearance(a))};d.ObjErase=function(a,b){b=Module.allocate(Module.intArrayFromString(b),"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjEraseFromKey(a,b))};d.GetJSDoubleArrFromCore=function(a,b){for(var c=Array(b),h=0;h<b;++h)c[h]=Module.getValue(a,"double"),a+=8;return c};
d.GetJSIntArrayFromCore=function(a,b){for(var c=Array(b),h=0;h<b;++h)c[h]=Module.getValue(a,"i32"),a+=4;return c};d.BookmarkIsValid=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkIsValid(a,b));return 0!==Module.getValue(b,"i8")};d.BookmarkGetNext=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetNext(a,b));return Module.getValue(b,"i8*")};d.BookmarkGetFirstChild=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_BookmarkGetFirstChild(a,b));return Module.getValue(b,"i8*")};d.BookmarkHasChildren=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkHasChildren(a,b));return 0!==Module.getValue(b,"i8")};d.BookmarkGetAction=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetAction(a,b));return Module.getValue(b,"i8*")};d.BookmarkGetTitle=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetTitle(a,
b));a=Module.getValue(b,"i8*");return Module.GetJSStringFromUString(a)};d.ActionIsValid=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ActionIsValid(a,b));return 0!==Module.getValue(b,"i8")};d.ActionGetType=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ActionGetType(a,b));return Module.getValue(b,"i32")};d.ActionGetDest=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ActionGetDest(a,b));return Module.getValue(b,
"i8*")};d.DestinationIsValid=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationIsValid(a,b));return 0!==Module.getValue(b,"i8")};d.DestinationGetPage=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetPage(a,b));return Module.getValue(b,"i8*")};d.PageIsValid=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageIsValid(a,b));return 0!==Module.getValue(b,"i8")};d.PageGetIndex=function(a){var b=
Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetIndex(a,b));return Module.getValue(b,"i32")};d.ObjGetAsPDFText=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetAsPDFText(a,b));a=Module.getValue(b,"i8*");return Module.GetJSStringFromUString(a)};d.ObjFindObj=function(a,b){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);b=Module.allocate(Module.intArrayFromString(b),"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjFindObj(a,b,c));return Module.getValue(c,
"i8*")};d.PDFDocGetFirstBookmark=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetFirstBookmark(a,b));return Module.getValue(b,"i8*")};d.DestinationGetExplicitDestObj=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetExplicitDestObj(a,b));return Module.getValue(b,"i8*")};d.DestinationGetFitType=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetFitType(a,b));return Module.getValue(b,
"i32")};d.ObjIsNumber=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjIsNumber(a,b));return 0!==Module.getValue(b,"i8")};d.ObjGetNumber=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetNumber(a,b));return Module.getValue(b,"double")};d.PDFDocGetRoot=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetRoot(a,b));return Module.getValue(b,"i8*")};d.ObjPutName=function(a,b,c){b=Module.allocate(Module.intArrayFromString(b),
"i8",Module.ALLOC_STACK);c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);var h=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPutName(a,b,c,h));return Module.getValue(h,"i8*")};d.ObjPutDict=function(a,b){b=Module.allocate(Module.intArrayFromString(b),"i8",Module.ALLOC_STACK);var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPutDict(a,b,c));return Module.getValue(c,"i8*")};d.ObjPutString=function(a,b,c){b=Module.allocate(Module.intArrayFromString(b),
"i8",Module.ALLOC_STACK);c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);var h=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPutString(a,b,c,h));return Module.getValue(h,"i8*")};d.ObjPut=function(a,b,c){b=Module.allocate(Module.intArrayFromString(b),"i8",Module.ALLOC_STACK);var h=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPut(a,b,c,h));return Module.getValue(h,"i8*")};d.ObjGetAt=function(a,b){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_ObjGetAt(a,b,c));return Module.getValue(c,"i8*")};d.Matrix2DInverse=function(a){var b=Module.allocate(48,"i8",Module.ALLOC_STACK);REX(Module._TRN_Matrix2DInverse(a,b));return b};d.PDFDocInitSecurityHandler=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocInitSecurityHandler(a,0,b));return 0!==Module.getValue(b,"i8")};d.PDFDocSetSecurityHandler=function(a,b){REX(Module._TRN_PDFDocSetSecurityHandler(a,b))};d.SecurityHandlerCreate=function(a){var b=Module.allocate(4,
"i8",Module.ALLOC_STACK);REX(Module._TRN_SecurityHandlerCreate(a,b));return Module.getValue(b,"i8*")};d.SecurityHandlerChangeUserPasswordUString=function(a,b){REX(Module._TRN_SecurityHandlerChangeUserPasswordUString(a,Module.GetUStringFromJSString(b)))};d.PDFDocInitStdSecurityHandler=function(a,b){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocInitStdSecurityHandlerUString(a,Module.GetUStringFromJSString(b),c));return 0!==Module.getValue(c,"i8")};d.PDFDocDownloaderTriggerFullDownload=
function(a,b){REX(Module._TRN_PDFDocDownloaderTriggerFullDownload(a,b))};d.PDFDocInsertPages=function(a,b,c,h,g){REX(Module._TRN_PDFDocInsertPageSet(a,b,c,h,g?1:0,0))};d.PDFDocMovePages=function(a,b,c){REX(Module._TRN_PDFDocMovePageSet(a,b,a,c,0,0))};d.PDFDocGetPageIterator=function(a,b){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPageIterator(a,b,c));return Module.getValue(c,"i8*")};d.PDFDocPageRemove=function(a,b){REX(Module._TRN_PDFDocPageRemove(a,b))};d.PDFDocPageCreate=
function(a,b,c){var h=Module.allocate(40,"i8",Module.ALLOC_STACK);Module.setValue(h,0,"double");Module.setValue(h+8,0,"double");Module.setValue(h+16,b,"double");Module.setValue(h+24,c,"double");Module.setValue(h+32,0,"double");b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocPageCreate(a,h,b));return Module.getValue(b,"i8*")};d.PDFDocPageInsert=function(a,b,c){REX(Module._TRN_PDFDocPageInsert(a,b,c))};d.PageSetCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageSetCreate(a));
return Module.getValue(a,"i8*")};d.PageSetCreateRange=function(a,b){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageSetCreateRange(c,a,b));return Module.getValue(c,"i8*")};d.PageSetAddPage=function(a,b){REX(Module._TRN_PageSetAddPage(a,b))};d.ElementBuilderCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementBuilderCreate(a));return Module.getValue(a,"i8*")};d.ElementBuilderDestroy=function(a){REX(Module._TRN_ElementBuilderDestroy(a))};d.ElementBuilderCreateImage=
function(a,b,c,h,g,x){var H=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementBuilderCreateImageScaled(a,b,c,h,g,x,H));return Module.getValue(H,"i8*")};d.ElementWriterCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementWriterCreate(a));return Module.getValue(a,"i8*")};d.ElementWriterDestroy=function(a){REX(Module._TRN_ElementWriterDestroy(a))};d.ElementWriterBegin=function(a,b){REX(Module._TRN_ElementWriterBeginOnPage(a,b,1,1,1,0))};d.ElementWriterWritePlacedElement=
function(a,b){REX(Module._TRN_ElementWriterWritePlacedElement(a,b))};d.ElementWriterEnd=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementWriterEnd(a,b))};d.ImageGetImageWidth=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageGetImageWidth(a,b));return Module.getValue(b,"i32")};d.ImageGetImageHeight=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageGetImageHeight(a,b));return Module.getValue(b,"i32")};
d.ImageCreateFromMemory2=function(a,b,c){var h=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageCreateFromMemory2(a,b,c,0,h));return Module.getValue(h,"i8*")};d.ImageCreateFromFile=function(a,b){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageCreateFromFile(a,b,0,c));return Module.getValue(c,"i8*")};d.PDFDocPagePushBack=function(a,b){REX(Module._TRN_PDFDocPagePushBack(a,b))};d.PDFDocHasOC=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocHasOC(a,
b));return 0!==Module.getValue(b,"i8")};d.PDFDocGetOCGConfig=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetOCGConfig(a,b));return Module.getValue(b,"i8*")};d.OCGContextCreate=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_OCGContextCreateFromConfig(a,b));return Module.getValue(b,"i8*")};d.UStringDestroy=function(a){REX(Module._TRN_UStringDestroy(a))};d.PDFDocFDFUpdate=function(a,b,c){if(c){for(var h=Object.keys(c),g=h.length,x=
Module._malloc(8*g),H=0;H<g;++H){var z=8*H,I=h[H],J=Module.GetDoc(c[I]);I=Module.GetUStringFromJSString(I);Module.setValue(x+z,J,"i8*");Module.setValue(x+z+4,I,"i8*")}REX(Module._TRN_PDFDocFDFUpdateAppearanceDocs(a,b,x,g))}else REX(Module._TRN_PDFDocFDFUpdate(a,b))};d.FDFDocDestroy=function(a){REX(Module._TRN_FDFDocDestroy(a))}})(l.Module)}).call(this,r(8).setImmediate)},function(m,q,r){function n(u){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:
function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},n(u)}(function(u){u.SetupPDFNetFunctions=function(y){Module._IB_=[];for(var l=function D(B){if("object"===n(B)&&null!==B)if("undefined"!==typeof B.byteLength){var F=Module._IB_.length;Module._IB_[F]=new Uint8Array(B);B={handle:F,isArrayBufferRef:!0}}else Object.keys(B).forEach(function(C){B.hasOwnProperty(C)&&(B[C]=D(B[C]))});return B},d=function F(D){"object"===n(D)&&null!==D&&(D.buffer?
D=D.buffer.slice(D.byteOffset,D.byteOffset+D.length):D.isArrayBufferRef?D=Module._IB_[D.handle].buffer:Object.keys(D).forEach(function(C){D.hasOwnProperty(C)&&(D[C]=F(D[C]))}));return D},e=Module._TRN_EMSCreateSharedWorkerInstance(),f,k=Module._TRN_EMSWorkerInstanceGetFunctionIterator(e),t=function(D,F){return new Promise(function(C,E){D=l(D);var G=D.docId;G=G?Module.GetDoc(G):0;(G=Module.EMSCallSharedFunction(e,F,G))?E({type:"PDFWorkerError",message:Module.GetErrToString(G)}):(E=Module.EMSGetLastResponse(e),
E=d(E),C(E))})};f=Module._TRN_EMSFunctionIteratorGetNextCommandName(k);)f=Module.GetJSStringFromCString(f),u.queue.onAsync(f,t);Module._TRN_EMSFunctionIteratorDestroy(k);if(Module._TRN_EMSCreatePDFNetWorkerInstance){var p={};k=function(v,B){y.on(v,B);p[v]=!0};Module.docPtrStringToIdMap={};var A=function(v){if(v in Module.docPtrStringToIdMap)return Module.docPtrStringToIdMap[v];throw Error("Couldn't find document ".concat(v));};u.queue.onAsync("PDFDoc.RequirePage",function(v){return Module.RequirePage(A(v.docId),
v.pageNum)});k("pdfDocCreateFromBuffer",function(v){v=Module.CreateDoc({type:"array",value:v.buf});var B=Module.GetDoc(v).toString(16);Module.docPtrStringToIdMap[B]=v;return B});k("PDFDoc.destroy",function(v){v=A(v.auto_dealloc_obj);Module.DeleteDoc(v)});k("PDFDoc.saveMemoryBuffer",function(v){var B=A(v.doc);return Module.SaveHelper(Module.GetDoc(B),B,v.flags).slice(0)});k("pdfDocCreate",function(){var v=Module.CreateDoc({type:"new"}),B=Module.GetDoc(v).toString(16);Module.docPtrStringToIdMap[B]=
v;return B});k("GetPDFDoc",function(v){v=v.docId;var B=Module.GetDoc(v).toString(16);Module.docPtrStringToIdMap[B]=v;return B});k("ExtractPDFNetLayersContext",function(v){var B=v.layers;v=Module.GetDoc(v.docId);var D=0;B?D=Module.EMSCreateUpdatedLayersContext(v,B):Module.PDFDocHasOC(v)&&(B=Module.PDFDocGetOCGConfig(v),D=Module.OCGContextCreate(B));return D.toString(16)});var w=Module._TRN_EMSCreatePDFNetWorkerInstance();k=Module._TRN_EMSWorkerInstanceGetFunctionIterator(w);for(t=function(v){return new Promise(function(B,
D){v=l(v);var F=Module.EMSCallPDFNetFunction(w,v);F?D(Module.GetErrToString(F)):(D=Module.EMSGetLastResponse(w),D=d(D),B(D))})};f=Module._TRN_EMSFunctionIteratorGetNextCommandName(k);)if(f=Module.GetJSStringFromCString(f),!p[f])y.onAsync(f,t);Module._TRN_EMSFunctionIteratorDestroy(k)}}})(self)},function(m,q,r){m=r(7);var n=r.n(m),u=r(17),y=r(18),l=r(2),d=r(19),e=r(1),f=r(20);(function(k){var t=null;k.basePath="../";var p=function(){var w=k.pdfWorkerPath||"";k.workerBasePath&&(k.basePath=k.workerBasePath);
var v=k.isFull,B=v?"full/":"lean/";k.useOptimizedWorker&&(B+=f.a);var D=k.wasmDisabled;Object(e.c)();k.overriddenPdfWorkerPath&&(w=k.overriddenPdfWorkerPath,k.basePath="../",!Object(l.h)()||D)&&(w="");k.basePath=k.externalPath?k.externalPath:k.basePath+"external/";Object(d.a)("".concat(w+B,"PDFNetC"),{"Wasm.wasm":v?1E7:4E6,"Wasm.js.mem":1E5,".js.mem":12E6,".mem":v?2E6:6E5},D)};k.EmscriptenPDFManager=function(){};k.EmscriptenPDFManager.prototype={OnInitialized:function(w){Module.loaded?w():(Module.initCb=
function(){w()},Object(e.b)("worker","PDFNet is not initialized yet!"))},NewDoc:function(w,v){return new Promise(function(B,D){try{B(Module.loadDoc(w,v))}catch(F){D(F)}})},Initialize:function(w,v,B,D){w&&(Module.TOTAL_MEMORY=w);Module.memoryInitializerPrefixURL=v;Module.asmjsPrefix=B;k.basePath=D;p()},shouldRunRender:function(w){return Module.ShouldRunRender(w.docId,w.pageIndex+1)}};var A={setup:function(w){function v(g){var x=g.data,H=g.action;var z="GetCanvas"===H||"GetCanvasPartial"===H?C.shouldRunRender(x):
!0;if(z){t=g;var I=g.asyncCallCapability;Object(e.b)("Memory","Worker running command: ".concat(H));E.actionMap[H](x,g).then(function(J){"BeginOperation"!==t.action&&(t=null);I.resolve(J)},function(J){t=null;I.reject(J)})}else k.deferredQueue.queue(g),F()}function B(g){g.asyncCallCapability=createPromiseCapability();t||E.length?E.queue(g):v(g);return g.asyncCallCapability.promise}function D(g){self.shouldResize&&C.Initialize(g.options.workerHeapSize,g.options.pdfResourcePath,g.options.pdfAsmPath,
g.options.parentUrl);Module.chunkMax=g.options.chunkMax;if(g.array instanceof Uint8Array){var x=255===g.array[0];w.postMessageTransfers=x;"response"in new XMLHttpRequest?C.OnInitialized(function(){k.SetupPDFNetFunctions(w);b();w.send("test",{supportTypedArray:!0,supportTransfers:x})}):w.send("test",!1)}else w.send("test",!1)}function F(){u.a.setImmediate(function(){if((!t||"BeginOperation"!==t.action)&&E.length&&!t){var g=E.dequeue();v(g)}})}var C=new k.EmscriptenPDFManager,E,G=!1,a=!1;Module.workerMessageHandler=
w;var b=function(){G?a||(w.send("workerLoaded",{}),a=!0):G=!0};C.OnInitialized(b);(function(){k.queue=E=new n.a({strategy:n.a.ArrayStrategy,comparator:function(g,x){return g.priority===x.priority?g.callbackId-x.callbackId:x.priority-g.priority}});k.deferredQueue=new n.a({strategy:n.a.ArrayStrategy,comparator:function(g,x){return g.priority===x.priority?g.callbackId-x.callbackId:x.priority-g.priority}});E.actionMap={};E.onAsync=function(g,x){w.onAsync(g,B);E.actionMap[g]=x}})();w.on("test",D);w.on("InitWorker",
D);var c=function(g){t&&g(t)&&(Module.cancelCurrent(),t=null);E.removeAllMatching(g,function(x){x.asyncCallCapability.reject({type:"Cancelled",message:"Operation was cancelled due to a change affecting the loaded document."})})},h=function(g){c(function(x){return x.data&&x.data.docId===g})};w.on("UpdatePassword",function(g){return Module.UpdatePassword(g.docId,g.password)});w.on("LoadRes",function(g){Module.loadResources(g.array,g.l);return{}});w.on("DownloaderHint",function(g){Module.DownloaderHint(g.docId,
g.hint)});w.on("IsLinearized",function(g){return Module.IsLinearizationValid(g.docId)});w.onNextAsync(F);E.onAsync("NewDoc",function(g){return C.NewDoc(g)});E.onAsync("GetCanvas",function(g){Object(e.b)("workerdetails","Run GetCanvas PageIdx: ".concat(g.pageIndex," Width: ").concat(g.width));Object(e.b)("Memory","loadCanvas with potential memory usage ".concat(g.width*g.height*8));return Module.loadCanvas(g.docId,g.pageIndex,g.width,g.height,g.rotation,null,g.layers,g.renderOptions)});E.onAsync("GetCanvasPartial",
function(g){Object(e.b)("Memory","GetCanvasPartial with potential memory usage ".concat(g.width*g.height*8));return Module.loadCanvas(g.docId,g.pageIndex,g.width,g.height,g.rotation,g.bbox,g.layers,g.renderOptions)});E.onAsync("SaveDoc",function(g){return Module.SaveDoc(g.docId,g.xfdfString,g.finishedWithDocument,g.printDocument,g.flags,g.watermarks,g.apdocs,g.password,g.encryptionAlgorithmType)});E.onAsync("SaveDocFromFixedElements",function(g){return Module.SaveDocFromFixedElements(g.bytes,g.xfdfString,
g.flags,g.watermarks,g.password,g.encryptionAlgorithmType)});E.onAsync("MergeXFDF",function(g){return Module.MergeXFDF(g.docId,g.xfdf,g.apdocs)});E.onAsync("InsertPages",function(g){return Module.InsertPages(g.docId,g.doc,g.pageArray,g.destPos,g.insertBookmarks,g.skipUpdateEvent)});E.onAsync("MovePages",function(g){return Module.MovePages(g.docId,g.pageArray,g.destPos)});E.onAsync("RemovePages",function(g){return Module.RemovePages(g.docId,g.pageArray,g.skipUpdateEvent)});E.onAsync("RotatePages",
function(g){return Module.RotatePages(g.docId,g.pageArray,g.rotation)});E.onAsync("ExtractPages",function(g){return Module.ExtractPages(g.docId,g.pageArray,g.xfdfString,g.watermarks,g.apdocs)});E.onAsync("CropPages",function(g){return Module.CropPages(g.docId,g.pageArray,g.topMargin,g.botMargin,g.leftMargin,g.rightMargin)});E.onAsync("TriggerFullDownload",function(g){return Module.TriggerFullDownload(g.docId)});E.onAsync("InsertBlankPages",function(g){return Module.InsertBlankPages(g.docId,g.pageArray,
g.width,g.height)});E.onAsync("BeginOperation",function(){return Promise.resolve()});E.onAsync("RequirePage",function(g,x){return Module.RequirePage(g.docId,g.pageNum)});w.on("FinishOperation",function(){if(t&&"BeginOperation"===t.action)t=null,F();else throw{message:"Operation has not started."};});w.on("DeleteDocument",function(g){g=g.docId;h(g);Module.DeleteDoc(g)});w.on("GetCanvasProgressive",function(g){if(t&&t.callbackId===g.callbackId){Object(e.b)("worker","Progressive request in progress");
var x=Module.GetCurrentCanvasData(!0)}else{if(E.find({priority:0,callbackId:g.callbackId}))throw Object(e.b)("worker","Progressive request Queued"),{type:"Queued",message:"Rendering has not started yet."};if(k.deferredQueue.find({priority:0,callbackId:g.callbackId}))throw Object(e.b)("worker","Progressive request Deferred"),{type:"Queued",message:"Rendering has not started yet."};}if(!x)throw Object(e.b)("worker","Progressive request invalid (render already complete)"),{type:"Unavailable",message:"Rendering is complete or was cancelled."};
return x});w.on("actionCancel",function(g){t&&t.callbackId===g.callbackId?(Object(e.b)("workerdetails","Cancelled Current Operation"),Module.cancelCurrent()&&(t=null,F())):(Object(e.b)("workerdetails","Cancelled queued operation"),E.remove({priority:0,callbackId:g.callbackId}),k.deferredQueue.remove({priority:0,callbackId:g.callbackId}))})}};k.onmessage=function(w){if("init"===w.data.action){var v=w.data.shouldResize;k.shouldResize=v;k.isFull=w.data.isFull;k.wasmDisabled=!w.data.wasm;k.externalPath=
w.data.externalPath;k.useOptimizedWorker=w.data.useOptimizedWorker;if(w=w.data.pdfWorkerPath)k.overriddenPdfWorkerPath=w;v||p();v=new y.a("worker_processor",self);Object(e.a)(v);A.setup(v)}}})("undefined"===typeof window?self:window)}]);}).call(this || window)
